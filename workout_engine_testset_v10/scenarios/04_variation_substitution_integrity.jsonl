{"dataset_version": "v10", "user_id": "U500", "date": "2025-09-07", "session_type": "LOWER", "test_id": "U500-2025-09-07-varsub", "test_category": "variation_substitution", "description": "Rotate base lift ↔ variation ↔ substitution; ensure state reads/writes correct bucket.", "input": {"user_profile": {"sex": "male", "age": 31, "height_cm": 179, "body_weight_lb": 185.0, "experience_level": "intermediate", "program": "lower_3x", "goal": "strength"}, "equipment": ["barbell", "machine"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 2.5, "plate_profile": "standard_2.5"}, "today_metrics": {"session_date": "2025-09-07", "body_weight_lb": 184.9567419666868, "sleep_hours": 6.75, "hrv_ms": 64, "resting_hr_bpm": 61, "soreness_1_to_10": 6, "stress_1_to_10": 5, "steps": 7411, "calories_est": 2670}, "today_session_template": [{"lift": "squat", "sets": 3, "reps": 5}], "recent_lift_history": {"squat": [], "front_squat": [], "leg_press": []}, "days_since_last_session": 7, "days_since_lift_exposure": {"squat": 7, "front_squat": 7, "leg_press": 7}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "variation_overrides": {}, "substitutions": {}, "timezone": "America/Los_Angeles"}, "planned_deload_week": false, "config_overrides": {"progression_policy": "double_progression", "conservative_mode": true}, "nutrition_context": {"phase": "maintenance", "deficit_level": "none", "surplus_confirmation": false}, "lift_state": {"squat": {"exerciseId": "squat", "lastWorkingWeight": {"value": 0.0, "unit": "lb"}, "rollingE1RM": 0.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 0, "successfulSessionsCount": 0, "recentReadinessScores": []}, "front_squat": {"exerciseId": "front_squat", "lastWorkingWeight": {"value": 0.0, "unit": "lb"}, "rollingE1RM": 0.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 0, "successfulSessionsCount": 0, "recentReadinessScores": []}, "leg_press": {"exerciseId": "leg_press", "lastWorkingWeight": {"value": 0.0, "unit": "lb"}, "rollingE1RM": 0.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 0, "successfulSessionsCount": 0, "recentReadinessScores": []}}}, "expected": {"session_prescription_for_today": [{"lift": "squat", "prescribed_weight_lb": 175.0, "sets": 3, "target_reps": 5, "target_rpe": 7.5, "decision": "estimate", "reason_code": "cold_start_conservative_estimate", "adjustment_kind": "none", "acceptable_range_lb": [172.5, 177.5], "tier": "low", "relative_strength": 1.1036036036036037}]}, "expected_output": {"session_prescription_for_today": [{"lift": "squat", "prescribed_weight_lb": 175.0, "sets": 3, "target_reps": 5, "target_rpe": 7.5, "decision": "estimate", "reason_code": "cold_start_conservative_estimate", "adjustment_kind": "none", "acceptable_range_lb": [172.5, 177.5], "tier": "low", "relative_strength": 1.1036036036036037}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected_one_of": ["hold", "increase", "deload", "decrease_small", "estimate"]}], "eval_metadata": {"priority_group": "variation_substitution", "scoring": {"state_integrity_required": true, "variation_does_not_update_base": true}}}
{"dataset_version": "v10", "user_id": "U500", "date": "2025-09-14", "session_type": "LOWER", "test_id": "U500-2025-09-14-varsub", "test_category": "variation_substitution", "description": "Rotate base lift ↔ variation ↔ substitution; ensure state reads/writes correct bucket.", "input": {"user_profile": {"sex": "male", "age": 31, "height_cm": 179, "body_weight_lb": 185.0, "experience_level": "intermediate", "program": "lower_3x", "goal": "strength"}, "equipment": ["barbell", "machine"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 2.5, "plate_profile": "standard_2.5"}, "today_metrics": {"session_date": "2025-09-14", "body_weight_lb": 185.36149177913828, "sleep_hours": 7.26, "hrv_ms": 50, "resting_hr_bpm": 61, "soreness_1_to_10": 4, "stress_1_to_10": 5, "steps": 7453, "calories_est": 2489}, "today_session_template": [{"lift": "squat", "sets": 3, "reps": 5}], "recent_lift_history": {"squat": [{"date": "2025-09-07", "logged_at": "2025-09-07T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 175.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.27, "outcome": "success", "decision": "hold", "reason_code": "cold_start_conservative_estimate", "variation": "standard"}], "front_squat": [], "leg_press": []}, "days_since_last_session": 7, "days_since_lift_exposure": {"squat": 7, "front_squat": 7, "leg_press": 7}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "variation_overrides": {}, "substitutions": {}, "timezone": "America/Los_Angeles"}, "planned_deload_week": false, "config_overrides": {"progression_policy": "double_progression", "conservative_mode": true}, "nutrition_context": {"phase": "maintenance", "deficit_level": "none", "surplus_confirmation": false}, "lift_state": {"squat": {"exerciseId": "squat", "lastWorkingWeight": {"value": 175.0, "unit": "lb"}, "rollingE1RM": 204.17, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 1, "successfulSessionsCount": 1, "recentReadinessScores": []}, "front_squat": {"exerciseId": "front_squat", "lastWorkingWeight": {"value": 0.0, "unit": "lb"}, "rollingE1RM": 0.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 0, "successfulSessionsCount": 0, "recentReadinessScores": []}, "leg_press": {"exerciseId": "leg_press", "lastWorkingWeight": {"value": 0.0, "unit": "lb"}, "rollingE1RM": 0.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 0, "successfulSessionsCount": 0, "recentReadinessScores": []}}}, "expected": {"session_prescription_for_today": [{"lift": "squat", "prescribed_weight_lb": 175.0, "sets": 3, "target_reps": 5, "target_rpe": 7.5, "decision": "hold", "reason_code": "not_clear_enough_to_increase", "adjustment_kind": "none", "acceptable_range_lb": [172.5, 177.5], "tier": "low", "relative_strength": 1.1036036036036037}]}, "expected_output": {"session_prescription_for_today": [{"lift": "squat", "prescribed_weight_lb": 175.0, "sets": 3, "target_reps": 5, "target_rpe": 7.5, "decision": "hold", "reason_code": "not_clear_enough_to_increase", "adjustment_kind": "none", "acceptable_range_lb": [172.5, 177.5], "tier": "low", "relative_strength": 1.1036036036036037}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected_one_of": ["hold", "increase", "deload", "decrease_small", "estimate"]}], "eval_metadata": {"priority_group": "variation_substitution", "scoring": {"state_integrity_required": true, "variation_does_not_update_base": true}}}
{"dataset_version": "v10", "user_id": "U500", "date": "2025-09-21", "session_type": "LOWER", "test_id": "U500-2025-09-21-varsub", "test_category": "variation_substitution", "description": "Rotate base lift ↔ variation ↔ substitution; ensure state reads/writes correct bucket.", "input": {"user_profile": {"sex": "male", "age": 31, "height_cm": 179, "body_weight_lb": 185.0, "experience_level": "intermediate", "program": "lower_3x", "goal": "strength"}, "equipment": ["barbell", "machine"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 2.5, "plate_profile": "standard_2.5"}, "today_metrics": {"session_date": "2025-09-21", "body_weight_lb": 184.5952291305538, "sleep_hours": 6.65, "hrv_ms": 49, "resting_hr_bpm": 62, "soreness_1_to_10": 5, "stress_1_to_10": 5, "steps": 6720, "calories_est": 2773}, "today_session_template": [{"lift": "front_squat", "sets": 3, "reps": 5}], "recent_lift_history": {"squat": [{"date": "2025-09-07", "logged_at": "2025-09-07T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 175.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.27, "outcome": "success", "decision": "hold", "reason_code": "cold_start_conservative_estimate", "variation": "standard"}, {"date": "2025-09-14", "logged_at": "2025-09-14T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 175.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.37, "outcome": "success", "decision": "hold", "reason_code": "not_clear_enough_to_increase", "variation": "standard"}], "front_squat": [], "leg_press": []}, "days_since_last_session": 7, "days_since_lift_exposure": {"squat": 7, "front_squat": 7, "leg_press": 7}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "variation_overrides": {"squat": "front_squat"}, "substitutions": {}, "timezone": "America/Los_Angeles"}, "planned_deload_week": false, "config_overrides": {"progression_policy": "double_progression", "conservative_mode": true}, "nutrition_context": {"phase": "maintenance", "deficit_level": "none", "surplus_confirmation": false}, "lift_state": {"squat": {"exerciseId": "squat", "lastWorkingWeight": {"value": 175.0, "unit": "lb"}, "rollingE1RM": 204.17, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 2, "successfulSessionsCount": 2, "recentReadinessScores": []}, "front_squat": {"exerciseId": "front_squat", "lastWorkingWeight": {"value": 0.0, "unit": "lb"}, "rollingE1RM": 0.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 0, "successfulSessionsCount": 0, "recentReadinessScores": []}, "leg_press": {"exerciseId": "leg_press", "lastWorkingWeight": {"value": 0.0, "unit": "lb"}, "rollingE1RM": 0.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 0, "successfulSessionsCount": 0, "recentReadinessScores": []}}}, "expected": {"session_prescription_for_today": [{"lift": "front_squat", "prescribed_weight_lb": 120.0, "sets": 3, "target_reps": 5, "target_rpe": 8.0, "decision": "estimate", "reason_code": "variation_primary_no_transfer_to_base", "adjustment_kind": "none", "acceptable_range_lb": [117.5, 122.5], "tier": "unknown", "relative_strength": null}]}, "expected_output": {"session_prescription_for_today": [{"lift": "front_squat", "prescribed_weight_lb": 120.0, "sets": 3, "target_reps": 5, "target_rpe": 8.0, "decision": "estimate", "reason_code": "variation_primary_no_transfer_to_base", "adjustment_kind": "none", "acceptable_range_lb": [117.5, 122.5], "tier": "unknown", "relative_strength": null}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected_one_of": ["hold", "increase", "deload", "decrease_small", "estimate"]}], "eval_metadata": {"priority_group": "variation_substitution", "scoring": {"state_integrity_required": true, "variation_does_not_update_base": true}}}
{"dataset_version": "v10", "user_id": "U500", "date": "2025-09-28", "session_type": "LOWER", "test_id": "U500-2025-09-28-varsub", "test_category": "variation_substitution", "description": "Rotate base lift ↔ variation ↔ substitution; ensure state reads/writes correct bucket.", "input": {"user_profile": {"sex": "male", "age": 31, "height_cm": 179, "body_weight_lb": 185.0, "experience_level": "intermediate", "program": "lower_3x", "goal": "strength"}, "equipment": ["barbell", "machine"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 2.5, "plate_profile": "standard_2.5"}, "today_metrics": {"session_date": "2025-09-28", "body_weight_lb": 184.54691507351086, "sleep_hours": 6.45, "hrv_ms": 58, "resting_hr_bpm": 60, "soreness_1_to_10": 5, "stress_1_to_10": 5, "steps": 8841, "calories_est": 2721}, "today_session_template": [{"lift": "front_squat", "sets": 3, "reps": 5}], "recent_lift_history": {"squat": [{"date": "2025-09-07", "logged_at": "2025-09-07T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 175.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.27, "outcome": "success", "decision": "hold", "reason_code": "cold_start_conservative_estimate", "variation": "standard"}, {"date": "2025-09-14", "logged_at": "2025-09-14T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 175.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.37, "outcome": "success", "decision": "hold", "reason_code": "not_clear_enough_to_increase", "variation": "standard"}], "front_squat": [{"date": "2025-09-21", "logged_at": "2025-09-21T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 120.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.8, "outcome": "success", "decision": "hold", "reason_code": "variation_primary_no_transfer_to_base", "variation": "standard"}], "leg_press": []}, "days_since_last_session": 7, "days_since_lift_exposure": {"squat": 7, "front_squat": 7, "leg_press": 7}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "variation_overrides": {"squat": "front_squat"}, "substitutions": {}, "timezone": "America/Los_Angeles"}, "planned_deload_week": false, "config_overrides": {"progression_policy": "double_progression", "conservative_mode": true}, "nutrition_context": {"phase": "maintenance", "deficit_level": "none", "surplus_confirmation": false}, "lift_state": {"squat": {"exerciseId": "squat", "lastWorkingWeight": {"value": 175.0, "unit": "lb"}, "rollingE1RM": 204.17, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 2, "successfulSessionsCount": 2, "recentReadinessScores": []}, "front_squat": {"exerciseId": "front_squat", "lastWorkingWeight": {"value": 120.0, "unit": "lb"}, "rollingE1RM": 140.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 1, "successfulSessionsCount": 1, "recentReadinessScores": []}, "leg_press": {"exerciseId": "leg_press", "lastWorkingWeight": {"value": 0.0, "unit": "lb"}, "rollingE1RM": 0.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 0, "successfulSessionsCount": 0, "recentReadinessScores": []}}}, "expected": {"session_prescription_for_today": [{"lift": "front_squat", "prescribed_weight_lb": 120.0, "sets": 3, "target_reps": 5, "target_rpe": 8.0, "decision": "hold", "reason_code": "variation_primary_no_transfer_to_base", "adjustment_kind": "none", "acceptable_range_lb": [117.5, 122.5], "tier": "unknown", "relative_strength": null}]}, "expected_output": {"session_prescription_for_today": [{"lift": "front_squat", "prescribed_weight_lb": 120.0, "sets": 3, "target_reps": 5, "target_rpe": 8.0, "decision": "hold", "reason_code": "variation_primary_no_transfer_to_base", "adjustment_kind": "none", "acceptable_range_lb": [117.5, 122.5], "tier": "unknown", "relative_strength": null}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected_one_of": ["hold", "increase", "deload", "decrease_small", "estimate"]}], "eval_metadata": {"priority_group": "variation_substitution", "scoring": {"state_integrity_required": true, "variation_does_not_update_base": true}}}
{"dataset_version": "v10", "user_id": "U500", "date": "2025-10-05", "session_type": "LOWER", "test_id": "U500-2025-10-05-varsub", "test_category": "variation_substitution", "description": "Rotate base lift ↔ variation ↔ substitution; ensure state reads/writes correct bucket.", "input": {"user_profile": {"sex": "male", "age": 31, "height_cm": 179, "body_weight_lb": 185.0, "experience_level": "intermediate", "program": "lower_3x", "goal": "strength"}, "equipment": ["barbell", "machine"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 2.5, "plate_profile": "standard_2.5"}, "today_metrics": {"session_date": "2025-10-05", "body_weight_lb": 184.5752606832283, "sleep_hours": 7.16, "hrv_ms": 51, "resting_hr_bpm": 61, "soreness_1_to_10": 5, "stress_1_to_10": 5, "steps": 6248, "calories_est": 2731}, "today_session_template": [{"lift": "front_squat", "sets": 3, "reps": 5}], "recent_lift_history": {"squat": [{"date": "2025-09-07", "logged_at": "2025-09-07T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 175.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.27, "outcome": "success", "decision": "hold", "reason_code": "cold_start_conservative_estimate", "variation": "standard"}, {"date": "2025-09-14", "logged_at": "2025-09-14T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 175.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.37, "outcome": "success", "decision": "hold", "reason_code": "not_clear_enough_to_increase", "variation": "standard"}], "front_squat": [{"date": "2025-09-21", "logged_at": "2025-09-21T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 120.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.8, "outcome": "success", "decision": "hold", "reason_code": "variation_primary_no_transfer_to_base", "variation": "standard"}, {"date": "2025-09-28", "logged_at": "2025-09-28T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 120.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.29, "outcome": "success", "decision": "hold", "reason_code": "variation_primary_no_transfer_to_base", "variation": "standard"}], "leg_press": []}, "days_since_last_session": 7, "days_since_lift_exposure": {"squat": 7, "front_squat": 7, "leg_press": 7}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "variation_overrides": {"squat": "front_squat"}, "substitutions": {}, "timezone": "America/Los_Angeles"}, "planned_deload_week": false, "config_overrides": {"progression_policy": "double_progression", "conservative_mode": true}, "nutrition_context": {"phase": "maintenance", "deficit_level": "none", "surplus_confirmation": false}, "lift_state": {"squat": {"exerciseId": "squat", "lastWorkingWeight": {"value": 175.0, "unit": "lb"}, "rollingE1RM": 204.17, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 2, "successfulSessionsCount": 2, "recentReadinessScores": []}, "front_squat": {"exerciseId": "front_squat", "lastWorkingWeight": {"value": 120.0, "unit": "lb"}, "rollingE1RM": 140.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 2, "successfulSessionsCount": 2, "recentReadinessScores": []}, "leg_press": {"exerciseId": "leg_press", "lastWorkingWeight": {"value": 0.0, "unit": "lb"}, "rollingE1RM": 0.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 0, "successfulSessionsCount": 0, "recentReadinessScores": []}}}, "expected": {"session_prescription_for_today": [{"lift": "front_squat", "prescribed_weight_lb": 120.0, "sets": 3, "target_reps": 5, "target_rpe": 8.0, "decision": "hold", "reason_code": "variation_primary_no_transfer_to_base", "adjustment_kind": "none", "acceptable_range_lb": [117.5, 122.5], "tier": "unknown", "relative_strength": null}]}, "expected_output": {"session_prescription_for_today": [{"lift": "front_squat", "prescribed_weight_lb": 120.0, "sets": 3, "target_reps": 5, "target_rpe": 8.0, "decision": "hold", "reason_code": "variation_primary_no_transfer_to_base", "adjustment_kind": "none", "acceptable_range_lb": [117.5, 122.5], "tier": "unknown", "relative_strength": null}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected_one_of": ["hold", "increase", "deload", "decrease_small", "estimate"]}], "eval_metadata": {"priority_group": "variation_substitution", "scoring": {"state_integrity_required": true, "variation_does_not_update_base": true}}}
{"dataset_version": "v10", "user_id": "U500", "date": "2025-10-12", "session_type": "LOWER", "test_id": "U500-2025-10-12-varsub", "test_category": "variation_substitution", "description": "Rotate base lift ↔ variation ↔ substitution; ensure state reads/writes correct bucket.", "input": {"user_profile": {"sex": "male", "age": 31, "height_cm": 179, "body_weight_lb": 185.0, "experience_level": "intermediate", "program": "lower_3x", "goal": "strength"}, "equipment": ["barbell", "machine"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 2.5, "plate_profile": "standard_2.5"}, "today_metrics": {"session_date": "2025-10-12", "body_weight_lb": 185.12403603935496, "sleep_hours": 6.63, "hrv_ms": 47, "resting_hr_bpm": 63, "soreness_1_to_10": 4, "stress_1_to_10": 4, "steps": 5677, "calories_est": 2762}, "today_session_template": [{"lift": "front_squat", "sets": 3, "reps": 5}], "recent_lift_history": {"squat": [{"date": "2025-09-07", "logged_at": "2025-09-07T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 175.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.27, "outcome": "success", "decision": "hold", "reason_code": "cold_start_conservative_estimate", "variation": "standard"}, {"date": "2025-09-14", "logged_at": "2025-09-14T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 175.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.37, "outcome": "success", "decision": "hold", "reason_code": "not_clear_enough_to_increase", "variation": "standard"}], "front_squat": [{"date": "2025-09-21", "logged_at": "2025-09-21T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 120.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.8, "outcome": "success", "decision": "hold", "reason_code": "variation_primary_no_transfer_to_base", "variation": "standard"}, {"date": "2025-09-28", "logged_at": "2025-09-28T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 120.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.29, "outcome": "success", "decision": "hold", "reason_code": "variation_primary_no_transfer_to_base", "variation": "standard"}, {"date": "2025-10-05", "logged_at": "2025-10-05T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 120.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.27, "outcome": "success", "decision": "hold", "reason_code": "variation_primary_no_transfer_to_base", "variation": "standard"}], "leg_press": []}, "days_since_last_session": 7, "days_since_lift_exposure": {"squat": 7, "front_squat": 7, "leg_press": 7}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "variation_overrides": {"squat": "front_squat"}, "substitutions": {}, "timezone": "America/Los_Angeles"}, "planned_deload_week": false, "config_overrides": {"progression_policy": "double_progression", "conservative_mode": true}, "nutrition_context": {"phase": "maintenance", "deficit_level": "none", "surplus_confirmation": false}, "lift_state": {"squat": {"exerciseId": "squat", "lastWorkingWeight": {"value": 175.0, "unit": "lb"}, "rollingE1RM": 204.17, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 2, "successfulSessionsCount": 2, "recentReadinessScores": []}, "front_squat": {"exerciseId": "front_squat", "lastWorkingWeight": {"value": 120.0, "unit": "lb"}, "rollingE1RM": 140.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}, "leg_press": {"exerciseId": "leg_press", "lastWorkingWeight": {"value": 0.0, "unit": "lb"}, "rollingE1RM": 0.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 0, "successfulSessionsCount": 0, "recentReadinessScores": []}}}, "expected": {"session_prescription_for_today": [{"lift": "front_squat", "prescribed_weight_lb": 120.0, "sets": 3, "target_reps": 5, "target_rpe": 8.0, "decision": "hold", "reason_code": "variation_primary_no_transfer_to_base", "adjustment_kind": "none", "acceptable_range_lb": [117.5, 122.5], "tier": "unknown", "relative_strength": null}]}, "expected_output": {"session_prescription_for_today": [{"lift": "front_squat", "prescribed_weight_lb": 120.0, "sets": 3, "target_reps": 5, "target_rpe": 8.0, "decision": "hold", "reason_code": "variation_primary_no_transfer_to_base", "adjustment_kind": "none", "acceptable_range_lb": [117.5, 122.5], "tier": "unknown", "relative_strength": null}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected_one_of": ["hold", "increase", "deload", "decrease_small", "estimate"]}], "eval_metadata": {"priority_group": "variation_substitution", "scoring": {"state_integrity_required": true, "variation_does_not_update_base": true}}}
{"dataset_version": "v10", "user_id": "U500", "date": "2025-10-19", "session_type": "LOWER", "test_id": "U500-2025-10-19-varsub", "test_category": "variation_substitution", "description": "Rotate base lift ↔ variation ↔ substitution; ensure state reads/writes correct bucket.", "input": {"user_profile": {"sex": "male", "age": 31, "height_cm": 179, "body_weight_lb": 185.0, "experience_level": "intermediate", "program": "lower_3x", "goal": "strength"}, "equipment": ["barbell", "machine"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 2.5, "plate_profile": "standard_2.5"}, "today_metrics": {"session_date": "2025-10-19", "body_weight_lb": 184.4656731196119, "sleep_hours": 6.42, "hrv_ms": 51, "resting_hr_bpm": 61, "soreness_1_to_10": 6, "stress_1_to_10": 4, "steps": 5518, "calories_est": 2620}, "today_session_template": [{"lift": "front_squat", "sets": 3, "reps": 5}], "recent_lift_history": {"squat": [{"date": "2025-09-07", "logged_at": "2025-09-07T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 175.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.27, "outcome": "success", "decision": "hold", "reason_code": "cold_start_conservative_estimate", "variation": "standard"}, {"date": "2025-09-14", "logged_at": "2025-09-14T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 175.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.37, "outcome": "success", "decision": "hold", "reason_code": "not_clear_enough_to_increase", "variation": "standard"}], "front_squat": [{"date": "2025-09-21", "logged_at": "2025-09-21T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 120.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.8, "outcome": "success", "decision": "hold", "reason_code": "variation_primary_no_transfer_to_base", "variation": "standard"}, {"date": "2025-09-28", "logged_at": "2025-09-28T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 120.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.29, "outcome": "success", "decision": "hold", "reason_code": "variation_primary_no_transfer_to_base", "variation": "standard"}, {"date": "2025-10-05", "logged_at": "2025-10-05T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 120.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.27, "outcome": "success", "decision": "hold", "reason_code": "variation_primary_no_transfer_to_base", "variation": "standard"}, {"date": "2025-10-12", "logged_at": "2025-10-12T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 120.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.23, "outcome": "success", "decision": "hold", "reason_code": "variation_primary_no_transfer_to_base", "variation": "standard"}], "leg_press": []}, "days_since_last_session": 7, "days_since_lift_exposure": {"squat": 7, "front_squat": 7, "leg_press": 7}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": true, "variation_overrides": {"squat": "front_squat"}, "substitutions": {}, "timezone": "America/Los_Angeles"}, "planned_deload_week": true, "config_overrides": {"progression_policy": "double_progression", "conservative_mode": true}, "nutrition_context": {"phase": "maintenance", "deficit_level": "none", "surplus_confirmation": false}, "lift_state": {"squat": {"exerciseId": "squat", "lastWorkingWeight": {"value": 175.0, "unit": "lb"}, "rollingE1RM": 204.17, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 2, "successfulSessionsCount": 2, "recentReadinessScores": []}, "front_squat": {"exerciseId": "front_squat", "lastWorkingWeight": {"value": 120.0, "unit": "lb"}, "rollingE1RM": 140.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 3, "successfulSessionsCount": 4, "recentReadinessScores": []}, "leg_press": {"exerciseId": "leg_press", "lastWorkingWeight": {"value": 0.0, "unit": "lb"}, "rollingE1RM": 0.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 0, "successfulSessionsCount": 0, "recentReadinessScores": []}}}, "expected": {"session_prescription_for_today": [{"lift": "front_squat", "prescribed_weight_lb": 107.5, "sets": 3, "target_reps": 5, "target_rpe": 7.0, "decision": "deload", "reason_code": "variation_primary_no_transfer_to_base", "adjustment_kind": "deload", "acceptable_range_lb": [105.0, 110.0], "tier": "unknown", "relative_strength": null}]}, "expected_output": {"session_prescription_for_today": [{"lift": "front_squat", "prescribed_weight_lb": 107.5, "sets": 3, "target_reps": 5, "target_rpe": 7.0, "decision": "deload", "reason_code": "variation_primary_no_transfer_to_base", "adjustment_kind": "deload", "acceptable_range_lb": [105.0, 110.0], "tier": "unknown", "relative_strength": null}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected_one_of": ["hold", "increase", "deload", "decrease_small", "estimate"]}], "eval_metadata": {"priority_group": "variation_substitution", "scoring": {"state_integrity_required": true, "variation_does_not_update_base": true}}}
{"dataset_version": "v10", "user_id": "U500", "date": "2025-10-26", "session_type": "LOWER", "test_id": "U500-2025-10-26-varsub", "test_category": "variation_substitution", "description": "Rotate base lift ↔ variation ↔ substitution; ensure state reads/writes correct bucket.", "input": {"user_profile": {"sex": "male", "age": 31, "height_cm": 179, "body_weight_lb": 185.0, "experience_level": "intermediate", "program": "lower_3x", "goal": "strength"}, "equipment": ["barbell", "machine"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 2.5, "plate_profile": "standard_2.5"}, "today_metrics": {"session_date": "2025-10-26", "body_weight_lb": 184.81381490309377, "sleep_hours": 7.42, "hrv_ms": 62, "resting_hr_bpm": 61, "soreness_1_to_10": 4, "stress_1_to_10": 5, "steps": 6624, "calories_est": 2658}, "today_session_template": [{"lift": "leg_press", "sets": 4, "reps": 10}], "recent_lift_history": {"squat": [{"date": "2025-09-07", "logged_at": "2025-09-07T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 175.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.27, "outcome": "success", "decision": "hold", "reason_code": "cold_start_conservative_estimate", "variation": "standard"}, {"date": "2025-09-14", "logged_at": "2025-09-14T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 175.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.37, "outcome": "success", "decision": "hold", "reason_code": "not_clear_enough_to_increase", "variation": "standard"}], "front_squat": [{"date": "2025-09-21", "logged_at": "2025-09-21T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 120.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.8, "outcome": "success", "decision": "hold", "reason_code": "variation_primary_no_transfer_to_base", "variation": "standard"}, {"date": "2025-09-28", "logged_at": "2025-09-28T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 120.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.29, "outcome": "success", "decision": "hold", "reason_code": "variation_primary_no_transfer_to_base", "variation": "standard"}, {"date": "2025-10-05", "logged_at": "2025-10-05T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 120.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.27, "outcome": "success", "decision": "hold", "reason_code": "variation_primary_no_transfer_to_base", "variation": "standard"}, {"date": "2025-10-12", "logged_at": "2025-10-12T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 120.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.23, "outcome": "success", "decision": "hold", "reason_code": "variation_primary_no_transfer_to_base", "variation": "standard"}, {"date": "2025-10-19", "logged_at": "2025-10-19T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 107.5, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.93, "outcome": "success", "decision": "deload", "reason_code": "variation_primary_no_transfer_to_base", "variation": "standard"}], "leg_press": []}, "days_since_last_session": 7, "days_since_lift_exposure": {"squat": 7, "front_squat": 7, "leg_press": 7}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "variation_overrides": {}, "substitutions": {"squat": "leg_press"}, "timezone": "America/Los_Angeles"}, "planned_deload_week": false, "config_overrides": {"progression_policy": "double_progression", "conservative_mode": true}, "nutrition_context": {"phase": "maintenance", "deficit_level": "none", "surplus_confirmation": false}, "lift_state": {"squat": {"exerciseId": "squat", "lastWorkingWeight": {"value": 175.0, "unit": "lb"}, "rollingE1RM": 204.17, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 2, "successfulSessionsCount": 2, "recentReadinessScores": []}, "front_squat": {"exerciseId": "front_squat", "lastWorkingWeight": {"value": 107.5, "unit": "lb"}, "rollingE1RM": 125.42, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 3, "successfulSessionsCount": 5, "recentReadinessScores": []}, "leg_press": {"exerciseId": "leg_press", "lastWorkingWeight": {"value": 0.0, "unit": "lb"}, "rollingE1RM": 0.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 0, "successfulSessionsCount": 0, "recentReadinessScores": []}}}, "expected": {"session_prescription_for_today": [{"lift": "leg_press", "prescribed_weight_lb": 120.0, "sets": 4, "target_reps": 10, "target_rpe": 8.0, "decision": "estimate", "reason_code": "substitution_due_to_equipment_or_irritation_no_contaminate_base", "adjustment_kind": "none", "acceptable_range_lb": [110.0, 130.0], "tier": "unknown", "relative_strength": null}]}, "expected_output": {"session_prescription_for_today": [{"lift": "leg_press", "prescribed_weight_lb": 120.0, "sets": 4, "target_reps": 10, "target_rpe": 8.0, "decision": "estimate", "reason_code": "substitution_due_to_equipment_or_irritation_no_contaminate_base", "adjustment_kind": "none", "acceptable_range_lb": [110.0, 130.0], "tier": "unknown", "relative_strength": null}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected_one_of": ["hold", "increase", "deload", "decrease_small", "estimate"]}], "eval_metadata": {"priority_group": "variation_substitution", "scoring": {"state_integrity_required": true, "variation_does_not_update_base": true}}}
{"dataset_version": "v10", "user_id": "U500", "date": "2025-11-02", "session_type": "LOWER", "test_id": "U500-2025-11-02-varsub", "test_category": "variation_substitution", "description": "Rotate base lift ↔ variation ↔ substitution; ensure state reads/writes correct bucket.", "input": {"user_profile": {"sex": "male", "age": 31, "height_cm": 179, "body_weight_lb": 185.0, "experience_level": "intermediate", "program": "lower_3x", "goal": "strength"}, "equipment": ["barbell", "machine"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 2.5, "plate_profile": "standard_2.5"}, "today_metrics": {"session_date": "2025-11-02", "body_weight_lb": 184.17892144102302, "sleep_hours": 6.99, "hrv_ms": 55, "resting_hr_bpm": 63, "soreness_1_to_10": 4, "stress_1_to_10": 4, "steps": 6962, "calories_est": 2735}, "today_session_template": [{"lift": "squat", "sets": 3, "reps": 5}], "recent_lift_history": {"squat": [{"date": "2025-09-07", "logged_at": "2025-09-07T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 175.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.27, "outcome": "success", "decision": "hold", "reason_code": "cold_start_conservative_estimate", "variation": "standard"}, {"date": "2025-09-14", "logged_at": "2025-09-14T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 175.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.37, "outcome": "success", "decision": "hold", "reason_code": "not_clear_enough_to_increase", "variation": "standard"}], "front_squat": [{"date": "2025-09-21", "logged_at": "2025-09-21T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 120.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.8, "outcome": "success", "decision": "hold", "reason_code": "variation_primary_no_transfer_to_base", "variation": "standard"}, {"date": "2025-09-28", "logged_at": "2025-09-28T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 120.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.29, "outcome": "success", "decision": "hold", "reason_code": "variation_primary_no_transfer_to_base", "variation": "standard"}, {"date": "2025-10-05", "logged_at": "2025-10-05T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 120.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.27, "outcome": "success", "decision": "hold", "reason_code": "variation_primary_no_transfer_to_base", "variation": "standard"}, {"date": "2025-10-12", "logged_at": "2025-10-12T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 120.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.23, "outcome": "success", "decision": "hold", "reason_code": "variation_primary_no_transfer_to_base", "variation": "standard"}, {"date": "2025-10-19", "logged_at": "2025-10-19T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 107.5, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.93, "outcome": "success", "decision": "deload", "reason_code": "variation_primary_no_transfer_to_base", "variation": "standard"}], "leg_press": [{"date": "2025-10-26", "logged_at": "2025-10-26T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 120.0, "target_reps": 10, "top_set_reps": 10, "reps": 10, "top_rpe": 8.91, "outcome": "success", "decision": "hold", "reason_code": "substitution_due_to_equipment_or_irritation_no_contaminate_base", "variation": "standard"}]}, "days_since_last_session": 7, "days_since_lift_exposure": {"squat": 7, "front_squat": 7, "leg_press": 7}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "variation_overrides": {}, "substitutions": {}, "timezone": "America/Los_Angeles"}, "planned_deload_week": false, "config_overrides": {"progression_policy": "double_progression", "conservative_mode": true}, "nutrition_context": {"phase": "maintenance", "deficit_level": "none", "surplus_confirmation": false}, "lift_state": {"squat": {"exerciseId": "squat", "lastWorkingWeight": {"value": 175.0, "unit": "lb"}, "rollingE1RM": 204.17, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 2, "successfulSessionsCount": 2, "recentReadinessScores": []}, "front_squat": {"exerciseId": "front_squat", "lastWorkingWeight": {"value": 107.5, "unit": "lb"}, "rollingE1RM": 125.42, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 3, "successfulSessionsCount": 5, "recentReadinessScores": []}, "leg_press": {"exerciseId": "leg_press", "lastWorkingWeight": {"value": 120.0, "unit": "lb"}, "rollingE1RM": 160.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 1, "successfulSessionsCount": 1, "recentReadinessScores": []}}}, "expected": {"session_prescription_for_today": [{"lift": "squat", "prescribed_weight_lb": 175.0, "sets": 3, "target_reps": 5, "target_rpe": 7.5, "decision": "hold", "reason_code": "not_clear_enough_to_increase", "adjustment_kind": "none", "acceptable_range_lb": [172.5, 177.5], "tier": "low", "relative_strength": 1.1036036036036037}]}, "expected_output": {"session_prescription_for_today": [{"lift": "squat", "prescribed_weight_lb": 175.0, "sets": 3, "target_reps": 5, "target_rpe": 7.5, "decision": "hold", "reason_code": "not_clear_enough_to_increase", "adjustment_kind": "none", "acceptable_range_lb": [172.5, 177.5], "tier": "low", "relative_strength": 1.1036036036036037}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected_one_of": ["hold", "increase", "deload", "decrease_small", "estimate"]}], "eval_metadata": {"priority_group": "variation_substitution", "scoring": {"state_integrity_required": true, "variation_does_not_update_base": true}}}
{"dataset_version": "v10", "user_id": "U500", "date": "2025-11-09", "session_type": "LOWER", "test_id": "U500-2025-11-09-varsub", "test_category": "variation_substitution", "description": "Rotate base lift ↔ variation ↔ substitution; ensure state reads/writes correct bucket.", "input": {"user_profile": {"sex": "male", "age": 31, "height_cm": 179, "body_weight_lb": 185.0, "experience_level": "intermediate", "program": "lower_3x", "goal": "strength"}, "equipment": ["barbell", "machine"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 2.5, "plate_profile": "standard_2.5"}, "today_metrics": {"session_date": "2025-11-09", "body_weight_lb": 184.0726796984251, "sleep_hours": 7.3, "hrv_ms": 60, "resting_hr_bpm": 59, "soreness_1_to_10": 6, "stress_1_to_10": 5, "steps": 8568, "calories_est": 2403}, "today_session_template": [{"lift": "squat", "sets": 3, "reps": 5}], "recent_lift_history": {"squat": [{"date": "2025-09-07", "logged_at": "2025-09-07T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 175.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.27, "outcome": "success", "decision": "hold", "reason_code": "cold_start_conservative_estimate", "variation": "standard"}, {"date": "2025-09-14", "logged_at": "2025-09-14T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 175.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.37, "outcome": "success", "decision": "hold", "reason_code": "not_clear_enough_to_increase", "variation": "standard"}, {"date": "2025-11-02", "logged_at": "2025-11-02T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 175.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.33, "outcome": "success", "decision": "hold", "reason_code": "not_clear_enough_to_increase", "variation": "standard"}], "front_squat": [{"date": "2025-09-21", "logged_at": "2025-09-21T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 120.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.8, "outcome": "success", "decision": "hold", "reason_code": "variation_primary_no_transfer_to_base", "variation": "standard"}, {"date": "2025-09-28", "logged_at": "2025-09-28T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 120.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.29, "outcome": "success", "decision": "hold", "reason_code": "variation_primary_no_transfer_to_base", "variation": "standard"}, {"date": "2025-10-05", "logged_at": "2025-10-05T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 120.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.27, "outcome": "success", "decision": "hold", "reason_code": "variation_primary_no_transfer_to_base", "variation": "standard"}, {"date": "2025-10-12", "logged_at": "2025-10-12T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 120.0, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.23, "outcome": "success", "decision": "hold", "reason_code": "variation_primary_no_transfer_to_base", "variation": "standard"}, {"date": "2025-10-19", "logged_at": "2025-10-19T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 107.5, "target_reps": 5, "top_set_reps": 5, "reps": 5, "top_rpe": 8.93, "outcome": "success", "decision": "deload", "reason_code": "variation_primary_no_transfer_to_base", "variation": "standard"}], "leg_press": [{"date": "2025-10-26", "logged_at": "2025-10-26T19:00:00+00:00", "session_type": "LOWER", "weight_lb": 120.0, "target_reps": 10, "top_set_reps": 10, "reps": 10, "top_rpe": 8.91, "outcome": "success", "decision": "hold", "reason_code": "substitution_due_to_equipment_or_irritation_no_contaminate_base", "variation": "standard"}]}, "days_since_last_session": 7, "days_since_lift_exposure": {"squat": 7, "front_squat": 7, "leg_press": 7}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "variation_overrides": {}, "substitutions": {}, "timezone": "America/Los_Angeles"}, "planned_deload_week": false, "config_overrides": {"progression_policy": "double_progression", "conservative_mode": true}, "nutrition_context": {"phase": "maintenance", "deficit_level": "none", "surplus_confirmation": false}, "lift_state": {"squat": {"exerciseId": "squat", "lastWorkingWeight": {"value": 175.0, "unit": "lb"}, "rollingE1RM": 204.17, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}, "front_squat": {"exerciseId": "front_squat", "lastWorkingWeight": {"value": 107.5, "unit": "lb"}, "rollingE1RM": 125.42, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 3, "successfulSessionsCount": 5, "recentReadinessScores": []}, "leg_press": {"exerciseId": "leg_press", "lastWorkingWeight": {"value": 120.0, "unit": "lb"}, "rollingE1RM": 160.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 1, "successfulSessionsCount": 1, "recentReadinessScores": []}}}, "expected": {"session_prescription_for_today": [{"lift": "squat", "prescribed_weight_lb": 175.0, "sets": 3, "target_reps": 5, "target_rpe": 7.5, "decision": "hold", "reason_code": "not_clear_enough_to_increase", "adjustment_kind": "none", "acceptable_range_lb": [172.5, 177.5], "tier": "low", "relative_strength": 1.1036036036036037}]}, "expected_output": {"session_prescription_for_today": [{"lift": "squat", "prescribed_weight_lb": 175.0, "sets": 3, "target_reps": 5, "target_rpe": 7.5, "decision": "hold", "reason_code": "not_clear_enough_to_increase", "adjustment_kind": "none", "acceptable_range_lb": [172.5, 177.5], "tier": "low", "relative_strength": 1.1036036036036037}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected_one_of": ["hold", "increase", "deload", "decrease_small", "estimate"]}], "eval_metadata": {"priority_group": "variation_substitution", "scoring": {"state_integrity_required": true, "variation_does_not_update_base": true}}}
