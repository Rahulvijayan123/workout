{"test_id": "microload-P3-wk00-x0-gymA", "test_category": "progression", "description": "P3: microloading press focus, alternating gyms (A=1.25lb, B=2.5lb). Tests rounding and cautious increases.", "input": {"user_profile": {"sex": "female", "age": 25, "height_cm": 160, "body_weight_lb": 128.0, "experience_level": "intermediate", "program": "upper_lower_4x", "goal": "strength_hypertrophy"}, "equipment": ["barbell", "dumbbell"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 1.25}, "today_metrics": {"body_weight_lb": 127.83812941634189, "sleep_hours": 7.2, "hrv_ms": 55, "resting_hr_bpm": 61, "soreness_1_to_10": 4, "stress_1_to_10": 4, "steps": 8500, "calories_est": 2400}, "today_session_template": [{"lift": "bench", "sets": 4, "reps": 6}, {"lift": "row", "sets": 3, "reps": 10}, {"lift": "incline_db", "sets": 3, "reps": 10}], "recent_lift_history": {"bench": [], "ohp": []}, "lift_state": {"bench": {"exerciseId": "bench", "lastWorkingWeight": {"value": 0.0, "unit": "lb"}, "rollingE1RM": null, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 0, "successfulSessionsCount": 0, "recentReadinessScores": []}, "ohp": {"exerciseId": "ohp", "lastWorkingWeight": {"value": 0.0, "unit": "lb"}, "rollingE1RM": null, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 0, "successfulSessionsCount": 0, "recentReadinessScores": []}}, "days_since_last_session": 2, "days_since_lift_exposure": {"bench": null, "ohp": null}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "gym": "A"}, "config_overrides": {"progression_policy": "double_progression", "deload_config": {"intensityReduction": 0.08, "volumeReduction": 1, "failuresBeforeDeload": 2}}}, "expected_output": {"session_prescription_for_today": [{"lift": "bench", "prescribed_weight_lb": 120.0, "sets": 4, "target_reps": 6, "target_rpe": 8.0, "decision": "hold", "reason_code": "microload_start", "adjustment_kind": "none", "acceptable_range_lb": [117.5, 122.5]}, {"lift": "row", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}, {"lift": "incline_db", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected": "hold"}, {"field": "session_prescription_for_today[0].prescribed_weight_lb", "expected_range": [117.5, 122.5]}]}
{"test_id": "microload-P3-wk00-x1-gymB", "test_category": "progression", "description": "P3: microloading press focus, alternating gyms (A=1.25lb, B=2.5lb). Tests rounding and cautious increases.", "input": {"user_profile": {"sex": "female", "age": 25, "height_cm": 160, "body_weight_lb": 128.0, "experience_level": "intermediate", "program": "upper_lower_4x", "goal": "strength_hypertrophy"}, "equipment": ["barbell", "dumbbell"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 2.5}, "today_metrics": {"body_weight_lb": 127.41902629478363, "sleep_hours": 7.2, "hrv_ms": 55, "resting_hr_bpm": 61, "soreness_1_to_10": 4, "stress_1_to_10": 4, "steps": 8500, "calories_est": 2400}, "today_session_template": [{"lift": "ohp", "sets": 4, "reps": 6}, {"lift": "lat_pulldown", "sets": 3, "reps": 10}, {"lift": "dips", "sets": 2, "reps": 8}], "recent_lift_history": {"bench": [{"date": "2026-01-04", "weight_lb": 120.0, "reps": 6, "top_rpe": 7.6, "outcome": "success", "variation": "standard"}], "ohp": []}, "lift_state": {"bench": {"exerciseId": "bench", "lastWorkingWeight": {"value": 120.0, "unit": "lb"}, "rollingE1RM": 144.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "stable", "successStreak": 1, "successfulSessionsCount": 1, "recentReadinessScores": []}, "ohp": {"exerciseId": "ohp", "lastWorkingWeight": {"value": 0.0, "unit": "lb"}, "rollingE1RM": null, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "unknown", "successStreak": 0, "successfulSessionsCount": 0, "recentReadinessScores": []}}, "days_since_last_session": 2, "days_since_lift_exposure": {"bench": 2, "ohp": null}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "gym": "B"}, "config_overrides": {"progression_policy": "double_progression", "deload_config": {"intensityReduction": 0.08, "volumeReduction": 1, "failuresBeforeDeload": 2}}}, "expected_output": {"session_prescription_for_today": [{"lift": "ohp", "prescribed_weight_lb": 70.0, "sets": 4, "target_reps": 6, "target_rpe": 8.0, "decision": "hold", "reason_code": "microload_start", "adjustment_kind": "none", "acceptable_range_lb": [67.5, 72.5]}, {"lift": "lat_pulldown", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}, {"lift": "dips", "prescribed_weight_lb": null, "sets": 2, "target_reps": 8, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected": "hold"}, {"field": "session_prescription_for_today[0].prescribed_weight_lb", "expected_range": [67.5, 72.5]}]}
{"test_id": "microload-P3-wk00-x2-gymA", "test_category": "progression", "description": "P3: microloading press focus, alternating gyms (A=1.25lb, B=2.5lb). Tests rounding and cautious increases.", "input": {"user_profile": {"sex": "female", "age": 25, "height_cm": 160, "body_weight_lb": 128.0, "experience_level": "intermediate", "program": "upper_lower_4x", "goal": "strength_hypertrophy"}, "equipment": ["barbell", "dumbbell"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 1.25}, "today_metrics": {"body_weight_lb": 127.64351816694723, "sleep_hours": 7.2, "hrv_ms": 55, "resting_hr_bpm": 61, "soreness_1_to_10": 4, "stress_1_to_10": 4, "steps": 8500, "calories_est": 2400}, "today_session_template": [{"lift": "bench", "sets": 4, "reps": 6}, {"lift": "row", "sets": 3, "reps": 10}, {"lift": "incline_db", "sets": 3, "reps": 10}], "recent_lift_history": {"bench": [{"date": "2026-01-04", "weight_lb": 120.0, "reps": 6, "top_rpe": 7.6, "outcome": "success", "variation": "standard"}], "ohp": [{"date": "2026-01-06", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}]}, "lift_state": {"bench": {"exerciseId": "bench", "lastWorkingWeight": {"value": 120.0, "unit": "lb"}, "rollingE1RM": 144.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "stable", "successStreak": 1, "successfulSessionsCount": 1, "recentReadinessScores": []}, "ohp": {"exerciseId": "ohp", "lastWorkingWeight": {"value": 70.0, "unit": "lb"}, "rollingE1RM": 84.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "stable", "successStreak": 1, "successfulSessionsCount": 1, "recentReadinessScores": []}}, "days_since_last_session": 2, "days_since_lift_exposure": {"bench": 4, "ohp": 2}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "gym": "A"}, "config_overrides": {"progression_policy": "double_progression", "deload_config": {"intensityReduction": 0.08, "volumeReduction": 1, "failuresBeforeDeload": 2}}}, "expected_output": {"session_prescription_for_today": [{"lift": "bench", "prescribed_weight_lb": 120.0, "sets": 4, "target_reps": 6, "target_rpe": 8.0, "decision": "hold", "reason_code": "double_progression_hold_until_clear_surplus", "adjustment_kind": "none", "acceptable_range_lb": [117.5, 122.5]}, {"lift": "row", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}, {"lift": "incline_db", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected": "hold"}, {"field": "session_prescription_for_today[0].prescribed_weight_lb", "expected_range": [117.5, 122.5]}]}
{"test_id": "microload-P3-wk01-x0-gymB", "test_category": "progression", "description": "P3: microloading press focus, alternating gyms (A=1.25lb, B=2.5lb). Tests rounding and cautious increases.", "input": {"user_profile": {"sex": "female", "age": 25, "height_cm": 160, "body_weight_lb": 128.0, "experience_level": "intermediate", "program": "upper_lower_4x", "goal": "strength_hypertrophy"}, "equipment": ["barbell", "dumbbell"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 2.5}, "today_metrics": {"body_weight_lb": 127.99312807245087, "sleep_hours": 7.2, "hrv_ms": 55, "resting_hr_bpm": 61, "soreness_1_to_10": 4, "stress_1_to_10": 4, "steps": 8500, "calories_est": 2400}, "today_session_template": [{"lift": "bench", "sets": 4, "reps": 6}, {"lift": "row", "sets": 3, "reps": 10}, {"lift": "incline_db", "sets": 3, "reps": 10}], "recent_lift_history": {"bench": [{"date": "2026-01-04", "weight_lb": 120.0, "reps": 6, "top_rpe": 7.6, "outcome": "success", "variation": "standard"}, {"date": "2026-01-08", "weight_lb": 120.0, "reps": 6, "top_rpe": 7.8, "outcome": "success", "variation": "standard"}], "ohp": [{"date": "2026-01-06", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}]}, "lift_state": {"bench": {"exerciseId": "bench", "lastWorkingWeight": {"value": 120.0, "unit": "lb"}, "rollingE1RM": 144.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 2, "successfulSessionsCount": 2, "recentReadinessScores": []}, "ohp": {"exerciseId": "ohp", "lastWorkingWeight": {"value": 70.0, "unit": "lb"}, "rollingE1RM": 84.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "stable", "successStreak": 1, "successfulSessionsCount": 1, "recentReadinessScores": []}}, "days_since_last_session": 2, "days_since_lift_exposure": {"bench": 2, "ohp": 4}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "gym": "B"}, "config_overrides": {"progression_policy": "double_progression", "deload_config": {"intensityReduction": 0.08, "volumeReduction": 1, "failuresBeforeDeload": 2}}}, "expected_output": {"session_prescription_for_today": [{"lift": "bench", "prescribed_weight_lb": 120.0, "sets": 4, "target_reps": 6, "target_rpe": 8.0, "decision": "hold", "reason_code": "double_progression_hold_until_clear_surplus", "adjustment_kind": "none", "acceptable_range_lb": [117.5, 122.5]}, {"lift": "row", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}, {"lift": "incline_db", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected": "hold"}, {"field": "session_prescription_for_today[0].prescribed_weight_lb", "expected_range": [117.5, 122.5]}]}
{"test_id": "microload-P3-wk01-x1-gymA", "test_category": "progression", "description": "P3: microloading press focus, alternating gyms (A=1.25lb, B=2.5lb). Tests rounding and cautious increases.", "input": {"user_profile": {"sex": "female", "age": 25, "height_cm": 160, "body_weight_lb": 128.0, "experience_level": "intermediate", "program": "upper_lower_4x", "goal": "strength_hypertrophy"}, "equipment": ["barbell", "dumbbell"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 1.25}, "today_metrics": {"body_weight_lb": 127.4455672640182, "sleep_hours": 7.2, "hrv_ms": 55, "resting_hr_bpm": 61, "soreness_1_to_10": 4, "stress_1_to_10": 4, "steps": 8500, "calories_est": 2400}, "today_session_template": [{"lift": "ohp", "sets": 4, "reps": 6}, {"lift": "lat_pulldown", "sets": 3, "reps": 10}, {"lift": "dips", "sets": 2, "reps": 8}], "recent_lift_history": {"bench": [{"date": "2026-01-04", "weight_lb": 120.0, "reps": 6, "top_rpe": 7.6, "outcome": "success", "variation": "standard"}, {"date": "2026-01-08", "weight_lb": 120.0, "reps": 6, "top_rpe": 7.8, "outcome": "success", "variation": "standard"}, {"date": "2026-01-10", "weight_lb": 120.0, "reps": 6, "top_rpe": 7.8, "outcome": "success", "variation": "standard"}], "ohp": [{"date": "2026-01-06", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}]}, "lift_state": {"bench": {"exerciseId": "bench", "lastWorkingWeight": {"value": 120.0, "unit": "lb"}, "rollingE1RM": 144.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}, "ohp": {"exerciseId": "ohp", "lastWorkingWeight": {"value": 70.0, "unit": "lb"}, "rollingE1RM": 84.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "stable", "successStreak": 1, "successfulSessionsCount": 1, "recentReadinessScores": []}}, "days_since_last_session": 2, "days_since_lift_exposure": {"bench": 2, "ohp": 6}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "gym": "A"}, "config_overrides": {"progression_policy": "double_progression", "deload_config": {"intensityReduction": 0.08, "volumeReduction": 1, "failuresBeforeDeload": 2}}}, "expected_output": {"session_prescription_for_today": [{"lift": "ohp", "prescribed_weight_lb": 70.0, "sets": 4, "target_reps": 6, "target_rpe": 8.0, "decision": "hold", "reason_code": "double_progression_hold_until_clear_surplus", "adjustment_kind": "none", "acceptable_range_lb": [68.75, 71.25]}, {"lift": "lat_pulldown", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}, {"lift": "dips", "prescribed_weight_lb": null, "sets": 2, "target_reps": 8, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected": "hold"}, {"field": "session_prescription_for_today[0].prescribed_weight_lb", "expected_range": [68.75, 71.25]}]}
{"test_id": "microload-P3-wk01-x2-gymB", "test_category": "progression", "description": "P3: microloading press focus, alternating gyms (A=1.25lb, B=2.5lb). Tests rounding and cautious increases.", "input": {"user_profile": {"sex": "female", "age": 25, "height_cm": 160, "body_weight_lb": 128.0, "experience_level": "intermediate", "program": "upper_lower_4x", "goal": "strength_hypertrophy"}, "equipment": ["barbell", "dumbbell"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 2.5}, "today_metrics": {"body_weight_lb": 127.64718135831308, "sleep_hours": 7.2, "hrv_ms": 55, "resting_hr_bpm": 61, "soreness_1_to_10": 4, "stress_1_to_10": 4, "steps": 8500, "calories_est": 2400}, "today_session_template": [{"lift": "bench", "sets": 4, "reps": 6}, {"lift": "row", "sets": 3, "reps": 10}, {"lift": "incline_db", "sets": 3, "reps": 10}], "recent_lift_history": {"bench": [{"date": "2026-01-04", "weight_lb": 120.0, "reps": 6, "top_rpe": 7.6, "outcome": "success", "variation": "standard"}, {"date": "2026-01-08", "weight_lb": 120.0, "reps": 6, "top_rpe": 7.8, "outcome": "success", "variation": "standard"}, {"date": "2026-01-10", "weight_lb": 120.0, "reps": 6, "top_rpe": 7.8, "outcome": "success", "variation": "standard"}], "ohp": [{"date": "2026-01-06", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}, {"date": "2026-01-12", "weight_lb": 70.0, "reps": 6, "top_rpe": 7.9, "outcome": "success", "variation": "standard"}]}, "lift_state": {"bench": {"exerciseId": "bench", "lastWorkingWeight": {"value": 120.0, "unit": "lb"}, "rollingE1RM": 144.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}, "ohp": {"exerciseId": "ohp", "lastWorkingWeight": {"value": 70.0, "unit": "lb"}, "rollingE1RM": 84.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 2, "successfulSessionsCount": 2, "recentReadinessScores": []}}, "days_since_last_session": 2, "days_since_lift_exposure": {"bench": 4, "ohp": 2}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "gym": "B"}, "config_overrides": {"progression_policy": "double_progression", "deload_config": {"intensityReduction": 0.08, "volumeReduction": 1, "failuresBeforeDeload": 2}}}, "expected_output": {"session_prescription_for_today": [{"lift": "bench", "prescribed_weight_lb": 120.0, "sets": 4, "target_reps": 6, "target_rpe": 8.0, "decision": "hold", "reason_code": "double_progression_hold_until_clear_surplus", "adjustment_kind": "none", "acceptable_range_lb": [117.5, 122.5]}, {"lift": "row", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}, {"lift": "incline_db", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected": "hold"}, {"field": "session_prescription_for_today[0].prescribed_weight_lb", "expected_range": [117.5, 122.5]}]}
{"test_id": "microload-P3-wk02-x0-gymA", "test_category": "progression", "description": "P3: microloading press focus, alternating gyms (A=1.25lb, B=2.5lb). Tests rounding and cautious increases.", "input": {"user_profile": {"sex": "female", "age": 25, "height_cm": 160, "body_weight_lb": 128.0, "experience_level": "intermediate", "program": "upper_lower_4x", "goal": "strength_hypertrophy"}, "equipment": ["barbell", "dumbbell"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 1.25}, "today_metrics": {"body_weight_lb": 128.3578957002188, "sleep_hours": 7.2, "hrv_ms": 55, "resting_hr_bpm": 61, "soreness_1_to_10": 4, "stress_1_to_10": 4, "steps": 8500, "calories_est": 2400}, "today_session_template": [{"lift": "bench", "sets": 4, "reps": 6}, {"lift": "row", "sets": 3, "reps": 10}, {"lift": "incline_db", "sets": 3, "reps": 10}], "recent_lift_history": {"bench": [{"date": "2026-01-08", "weight_lb": 120.0, "reps": 6, "top_rpe": 7.8, "outcome": "success", "variation": "standard"}, {"date": "2026-01-10", "weight_lb": 120.0, "reps": 6, "top_rpe": 7.8, "outcome": "success", "variation": "standard"}, {"date": "2026-01-14", "weight_lb": 120.0, "reps": 6, "top_rpe": 8.1, "outcome": "success", "variation": "standard"}], "ohp": [{"date": "2026-01-06", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}, {"date": "2026-01-12", "weight_lb": 70.0, "reps": 6, "top_rpe": 7.9, "outcome": "success", "variation": "standard"}]}, "lift_state": {"bench": {"exerciseId": "bench", "lastWorkingWeight": {"value": 120.0, "unit": "lb"}, "rollingE1RM": 144.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}, "ohp": {"exerciseId": "ohp", "lastWorkingWeight": {"value": 70.0, "unit": "lb"}, "rollingE1RM": 84.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 2, "successfulSessionsCount": 2, "recentReadinessScores": []}}, "days_since_last_session": 2, "days_since_lift_exposure": {"bench": 2, "ohp": 4}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "gym": "A"}, "config_overrides": {"progression_policy": "double_progression", "deload_config": {"intensityReduction": 0.08, "volumeReduction": 1, "failuresBeforeDeload": 2}}}, "expected_output": {"session_prescription_for_today": [{"lift": "bench", "prescribed_weight_lb": 120.0, "sets": 4, "target_reps": 6, "target_rpe": 8.0, "decision": "hold", "reason_code": "double_progression_hold_until_clear_surplus", "adjustment_kind": "none", "acceptable_range_lb": [117.5, 122.5]}, {"lift": "row", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}, {"lift": "incline_db", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected": "hold"}, {"field": "session_prescription_for_today[0].prescribed_weight_lb", "expected_range": [117.5, 122.5]}]}
{"test_id": "microload-P3-wk02-x1-gymB", "test_category": "progression", "description": "P3: microloading press focus, alternating gyms (A=1.25lb, B=2.5lb). Tests rounding and cautious increases.", "input": {"user_profile": {"sex": "female", "age": 25, "height_cm": 160, "body_weight_lb": 128.0, "experience_level": "intermediate", "program": "upper_lower_4x", "goal": "strength_hypertrophy"}, "equipment": ["barbell", "dumbbell"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 2.5}, "today_metrics": {"body_weight_lb": 128.49491015062904, "sleep_hours": 7.2, "hrv_ms": 55, "resting_hr_bpm": 61, "soreness_1_to_10": 4, "stress_1_to_10": 4, "steps": 8500, "calories_est": 2400}, "today_session_template": [{"lift": "ohp", "sets": 4, "reps": 6}, {"lift": "lat_pulldown", "sets": 3, "reps": 10}, {"lift": "dips", "sets": 2, "reps": 8}], "recent_lift_history": {"bench": [{"date": "2026-01-10", "weight_lb": 120.0, "reps": 6, "top_rpe": 7.8, "outcome": "success", "variation": "standard"}, {"date": "2026-01-14", "weight_lb": 120.0, "reps": 6, "top_rpe": 8.1, "outcome": "success", "variation": "standard"}, {"date": "2026-01-16", "weight_lb": 120.0, "reps": 6, "top_rpe": 7.7, "outcome": "success", "variation": "standard"}], "ohp": [{"date": "2026-01-06", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}, {"date": "2026-01-12", "weight_lb": 70.0, "reps": 6, "top_rpe": 7.9, "outcome": "success", "variation": "standard"}]}, "lift_state": {"bench": {"exerciseId": "bench", "lastWorkingWeight": {"value": 120.0, "unit": "lb"}, "rollingE1RM": 144.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}, "ohp": {"exerciseId": "ohp", "lastWorkingWeight": {"value": 70.0, "unit": "lb"}, "rollingE1RM": 84.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 2, "successfulSessionsCount": 2, "recentReadinessScores": []}}, "days_since_last_session": 2, "days_since_lift_exposure": {"bench": 2, "ohp": 6}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "gym": "B"}, "config_overrides": {"progression_policy": "double_progression", "deload_config": {"intensityReduction": 0.08, "volumeReduction": 1, "failuresBeforeDeload": 2}}}, "expected_output": {"session_prescription_for_today": [{"lift": "ohp", "prescribed_weight_lb": 70.0, "sets": 4, "target_reps": 6, "target_rpe": 8.0, "decision": "hold", "reason_code": "double_progression_hold_until_clear_surplus", "adjustment_kind": "none", "acceptable_range_lb": [67.5, 72.5]}, {"lift": "lat_pulldown", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}, {"lift": "dips", "prescribed_weight_lb": null, "sets": 2, "target_reps": 8, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected": "hold"}, {"field": "session_prescription_for_today[0].prescribed_weight_lb", "expected_range": [67.5, 72.5]}]}
{"test_id": "microload-P3-wk02-x2-gymA", "test_category": "progression", "description": "P3: microloading press focus, alternating gyms (A=1.25lb, B=2.5lb). Tests rounding and cautious increases.", "input": {"user_profile": {"sex": "female", "age": 25, "height_cm": 160, "body_weight_lb": 128.0, "experience_level": "intermediate", "program": "upper_lower_4x", "goal": "strength_hypertrophy"}, "equipment": ["barbell", "dumbbell"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 1.25}, "today_metrics": {"body_weight_lb": 128.58620840748043, "sleep_hours": 7.2, "hrv_ms": 55, "resting_hr_bpm": 61, "soreness_1_to_10": 4, "stress_1_to_10": 4, "steps": 8500, "calories_est": 2400}, "today_session_template": [{"lift": "bench", "sets": 4, "reps": 6}, {"lift": "row", "sets": 3, "reps": 10}, {"lift": "incline_db", "sets": 3, "reps": 10}], "recent_lift_history": {"bench": [{"date": "2026-01-10", "weight_lb": 120.0, "reps": 6, "top_rpe": 7.8, "outcome": "success", "variation": "standard"}, {"date": "2026-01-14", "weight_lb": 120.0, "reps": 6, "top_rpe": 8.1, "outcome": "success", "variation": "standard"}, {"date": "2026-01-16", "weight_lb": 120.0, "reps": 6, "top_rpe": 7.7, "outcome": "success", "variation": "standard"}], "ohp": [{"date": "2026-01-06", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}, {"date": "2026-01-12", "weight_lb": 70.0, "reps": 6, "top_rpe": 7.9, "outcome": "success", "variation": "standard"}, {"date": "2026-01-18", "weight_lb": 70.0, "reps": 6, "top_rpe": 7.8, "outcome": "success", "variation": "standard"}]}, "lift_state": {"bench": {"exerciseId": "bench", "lastWorkingWeight": {"value": 120.0, "unit": "lb"}, "rollingE1RM": 144.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}, "ohp": {"exerciseId": "ohp", "lastWorkingWeight": {"value": 70.0, "unit": "lb"}, "rollingE1RM": 84.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}}, "days_since_last_session": 2, "days_since_lift_exposure": {"bench": 4, "ohp": 2}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "gym": "A"}, "config_overrides": {"progression_policy": "double_progression", "deload_config": {"intensityReduction": 0.08, "volumeReduction": 1, "failuresBeforeDeload": 2}}}, "expected_output": {"session_prescription_for_today": [{"lift": "bench", "prescribed_weight_lb": 120.0, "sets": 4, "target_reps": 6, "target_rpe": 8.0, "decision": "hold", "reason_code": "double_progression_hold_until_clear_surplus", "adjustment_kind": "none", "acceptable_range_lb": [117.5, 122.5]}, {"lift": "row", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}, {"lift": "incline_db", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected": "hold"}, {"field": "session_prescription_for_today[0].prescribed_weight_lb", "expected_range": [117.5, 122.5]}]}
{"test_id": "microload-P3-wk03-x0-gymB", "test_category": "progression", "description": "P3: microloading press focus, alternating gyms (A=1.25lb, B=2.5lb). Tests rounding and cautious increases.", "input": {"user_profile": {"sex": "female", "age": 25, "height_cm": 160, "body_weight_lb": 128.0, "experience_level": "intermediate", "program": "upper_lower_4x", "goal": "strength_hypertrophy"}, "equipment": ["barbell", "dumbbell"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 2.5}, "today_metrics": {"body_weight_lb": 128.1681343229698, "sleep_hours": 7.2, "hrv_ms": 55, "resting_hr_bpm": 61, "soreness_1_to_10": 4, "stress_1_to_10": 4, "steps": 8500, "calories_est": 2400}, "today_session_template": [{"lift": "bench", "sets": 4, "reps": 6}, {"lift": "row", "sets": 3, "reps": 10}, {"lift": "incline_db", "sets": 3, "reps": 10}], "recent_lift_history": {"bench": [{"date": "2026-01-14", "weight_lb": 120.0, "reps": 6, "top_rpe": 8.1, "outcome": "success", "variation": "standard"}, {"date": "2026-01-16", "weight_lb": 120.0, "reps": 6, "top_rpe": 7.7, "outcome": "success", "variation": "standard"}, {"date": "2026-01-20", "weight_lb": 120.0, "reps": 6, "top_rpe": 7.9, "outcome": "success", "variation": "standard"}], "ohp": [{"date": "2026-01-06", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}, {"date": "2026-01-12", "weight_lb": 70.0, "reps": 6, "top_rpe": 7.9, "outcome": "success", "variation": "standard"}, {"date": "2026-01-18", "weight_lb": 70.0, "reps": 6, "top_rpe": 7.8, "outcome": "success", "variation": "standard"}]}, "lift_state": {"bench": {"exerciseId": "bench", "lastWorkingWeight": {"value": 120.0, "unit": "lb"}, "rollingE1RM": 144.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}, "ohp": {"exerciseId": "ohp", "lastWorkingWeight": {"value": 70.0, "unit": "lb"}, "rollingE1RM": 84.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}}, "days_since_last_session": 2, "days_since_lift_exposure": {"bench": 2, "ohp": 4}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "gym": "B"}, "config_overrides": {"progression_policy": "double_progression", "deload_config": {"intensityReduction": 0.08, "volumeReduction": 1, "failuresBeforeDeload": 2}}}, "expected_output": {"session_prescription_for_today": [{"lift": "bench", "prescribed_weight_lb": 120.0, "sets": 4, "target_reps": 6, "target_rpe": 8.0, "decision": "hold", "reason_code": "double_progression_hold_until_clear_surplus", "adjustment_kind": "none", "acceptable_range_lb": [117.5, 122.5]}, {"lift": "row", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}, {"lift": "incline_db", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected": "hold"}, {"field": "session_prescription_for_today[0].prescribed_weight_lb", "expected_range": [117.5, 122.5]}]}
{"test_id": "microload-P3-wk03-x1-gymA", "test_category": "progression", "description": "P3: microloading press focus, alternating gyms (A=1.25lb, B=2.5lb). Tests rounding and cautious increases.", "input": {"user_profile": {"sex": "female", "age": 25, "height_cm": 160, "body_weight_lb": 128.0, "experience_level": "intermediate", "program": "upper_lower_4x", "goal": "strength_hypertrophy"}, "equipment": ["barbell", "dumbbell"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 1.25}, "today_metrics": {"body_weight_lb": 127.99291954180681, "sleep_hours": 7.2, "hrv_ms": 55, "resting_hr_bpm": 61, "soreness_1_to_10": 4, "stress_1_to_10": 4, "steps": 8500, "calories_est": 2400}, "today_session_template": [{"lift": "ohp", "sets": 4, "reps": 6}, {"lift": "lat_pulldown", "sets": 3, "reps": 10}, {"lift": "dips", "sets": 2, "reps": 8}], "recent_lift_history": {"bench": [{"date": "2026-01-16", "weight_lb": 120.0, "reps": 6, "top_rpe": 7.7, "outcome": "success", "variation": "standard"}, {"date": "2026-01-20", "weight_lb": 120.0, "reps": 6, "top_rpe": 7.9, "outcome": "success", "variation": "standard"}, {"date": "2026-01-22", "weight_lb": 120.0, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}], "ohp": [{"date": "2026-01-06", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}, {"date": "2026-01-12", "weight_lb": 70.0, "reps": 6, "top_rpe": 7.9, "outcome": "success", "variation": "standard"}, {"date": "2026-01-18", "weight_lb": 70.0, "reps": 6, "top_rpe": 7.8, "outcome": "success", "variation": "standard"}]}, "lift_state": {"bench": {"exerciseId": "bench", "lastWorkingWeight": {"value": 120.0, "unit": "lb"}, "rollingE1RM": 144.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}, "ohp": {"exerciseId": "ohp", "lastWorkingWeight": {"value": 70.0, "unit": "lb"}, "rollingE1RM": 84.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}}, "days_since_last_session": 2, "days_since_lift_exposure": {"bench": 2, "ohp": 6}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "gym": "A"}, "config_overrides": {"progression_policy": "double_progression", "deload_config": {"intensityReduction": 0.08, "volumeReduction": 1, "failuresBeforeDeload": 2}}}, "expected_output": {"session_prescription_for_today": [{"lift": "ohp", "prescribed_weight_lb": 70.0, "sets": 4, "target_reps": 6, "target_rpe": 8.0, "decision": "hold", "reason_code": "double_progression_hold_until_clear_surplus", "adjustment_kind": "none", "acceptable_range_lb": [68.75, 71.25]}, {"lift": "lat_pulldown", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}, {"lift": "dips", "prescribed_weight_lb": null, "sets": 2, "target_reps": 8, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected": "hold"}, {"field": "session_prescription_for_today[0].prescribed_weight_lb", "expected_range": [68.75, 71.25]}]}
{"test_id": "microload-P3-wk03-x2-gymB", "test_category": "progression", "description": "P3: microloading press focus, alternating gyms (A=1.25lb, B=2.5lb). Tests rounding and cautious increases.", "input": {"user_profile": {"sex": "female", "age": 25, "height_cm": 160, "body_weight_lb": 128.0, "experience_level": "intermediate", "program": "upper_lower_4x", "goal": "strength_hypertrophy"}, "equipment": ["barbell", "dumbbell"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 2.5}, "today_metrics": {"body_weight_lb": 127.9860735325822, "sleep_hours": 7.2, "hrv_ms": 55, "resting_hr_bpm": 61, "soreness_1_to_10": 4, "stress_1_to_10": 4, "steps": 8500, "calories_est": 2400}, "today_session_template": [{"lift": "bench", "sets": 4, "reps": 6}, {"lift": "row", "sets": 3, "reps": 10}, {"lift": "incline_db", "sets": 3, "reps": 10}], "recent_lift_history": {"bench": [{"date": "2026-01-16", "weight_lb": 120.0, "reps": 6, "top_rpe": 7.7, "outcome": "success", "variation": "standard"}, {"date": "2026-01-20", "weight_lb": 120.0, "reps": 6, "top_rpe": 7.9, "outcome": "success", "variation": "standard"}, {"date": "2026-01-22", "weight_lb": 120.0, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}], "ohp": [{"date": "2026-01-12", "weight_lb": 70.0, "reps": 6, "top_rpe": 7.9, "outcome": "success", "variation": "standard"}, {"date": "2026-01-18", "weight_lb": 70.0, "reps": 6, "top_rpe": 7.8, "outcome": "success", "variation": "standard"}, {"date": "2026-01-24", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}]}, "lift_state": {"bench": {"exerciseId": "bench", "lastWorkingWeight": {"value": 120.0, "unit": "lb"}, "rollingE1RM": 144.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}, "ohp": {"exerciseId": "ohp", "lastWorkingWeight": {"value": 70.0, "unit": "lb"}, "rollingE1RM": 84.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}}, "days_since_last_session": 2, "days_since_lift_exposure": {"bench": 4, "ohp": 2}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "gym": "B"}, "config_overrides": {"progression_policy": "double_progression", "deload_config": {"intensityReduction": 0.08, "volumeReduction": 1, "failuresBeforeDeload": 2}}}, "expected_output": {"session_prescription_for_today": [{"lift": "bench", "prescribed_weight_lb": 120.0, "sets": 4, "target_reps": 6, "target_rpe": 8.0, "decision": "hold", "reason_code": "double_progression_hold_until_clear_surplus", "adjustment_kind": "none", "acceptable_range_lb": [117.5, 122.5]}, {"lift": "row", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}, {"lift": "incline_db", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected": "hold"}, {"field": "session_prescription_for_today[0].prescribed_weight_lb", "expected_range": [117.5, 122.5]}]}
{"test_id": "microload-P3-wk04-x0-gymA", "test_category": "progression", "description": "P3: microloading press focus, alternating gyms (A=1.25lb, B=2.5lb). Tests rounding and cautious increases.", "input": {"user_profile": {"sex": "female", "age": 25, "height_cm": 160, "body_weight_lb": 128.0, "experience_level": "intermediate", "program": "upper_lower_4x", "goal": "strength_hypertrophy"}, "equipment": ["barbell", "dumbbell"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 1.25}, "today_metrics": {"body_weight_lb": 128.24627801808757, "sleep_hours": 5.0, "hrv_ms": 36, "resting_hr_bpm": 72, "soreness_1_to_10": 8, "stress_1_to_10": 8, "steps": 5500, "calories_est": 2100}, "today_session_template": [{"lift": "bench", "sets": 4, "reps": 6}, {"lift": "row", "sets": 3, "reps": 10}, {"lift": "incline_db", "sets": 3, "reps": 10}], "recent_lift_history": {"bench": [{"date": "2026-01-20", "weight_lb": 120.0, "reps": 6, "top_rpe": 7.9, "outcome": "success", "variation": "standard"}, {"date": "2026-01-22", "weight_lb": 120.0, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}, {"date": "2026-01-26", "weight_lb": 120.0, "reps": 6, "top_rpe": 8.1, "outcome": "success", "variation": "standard"}], "ohp": [{"date": "2026-01-12", "weight_lb": 70.0, "reps": 6, "top_rpe": 7.9, "outcome": "success", "variation": "standard"}, {"date": "2026-01-18", "weight_lb": 70.0, "reps": 6, "top_rpe": 7.8, "outcome": "success", "variation": "standard"}, {"date": "2026-01-24", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}]}, "lift_state": {"bench": {"exerciseId": "bench", "lastWorkingWeight": {"value": 120.0, "unit": "lb"}, "rollingE1RM": 144.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}, "ohp": {"exerciseId": "ohp", "lastWorkingWeight": {"value": 70.0, "unit": "lb"}, "rollingE1RM": 84.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}}, "days_since_last_session": 2, "days_since_lift_exposure": {"bench": 2, "ohp": 4}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "gym": "A"}, "config_overrides": {"progression_policy": "double_progression", "deload_config": {"intensityReduction": 0.08, "volumeReduction": 1, "failuresBeforeDeload": 2}}}, "expected_output": {"session_prescription_for_today": [{"lift": "bench", "prescribed_weight_lb": 117.5, "sets": 4, "target_reps": 6, "target_rpe": 8.0, "decision": "decrease_small", "reason_code": "readiness_cut_small_press", "adjustment_kind": "readinessCut", "acceptable_range_lb": [115.0, 120.0]}, {"lift": "row", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}, {"lift": "incline_db", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected": "decrease_small"}, {"field": "session_prescription_for_today[0].prescribed_weight_lb", "expected_range": [115.0, 120.0]}]}
{"test_id": "microload-P3-wk04-x1-gymB", "test_category": "progression", "description": "P3: microloading press focus, alternating gyms (A=1.25lb, B=2.5lb). Tests rounding and cautious increases.", "input": {"user_profile": {"sex": "female", "age": 25, "height_cm": 160, "body_weight_lb": 128.0, "experience_level": "intermediate", "program": "upper_lower_4x", "goal": "strength_hypertrophy"}, "equipment": ["barbell", "dumbbell"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 2.5}, "today_metrics": {"body_weight_lb": 128.32682997297803, "sleep_hours": 7.2, "hrv_ms": 55, "resting_hr_bpm": 61, "soreness_1_to_10": 4, "stress_1_to_10": 4, "steps": 8500, "calories_est": 2400}, "today_session_template": [{"lift": "ohp", "sets": 4, "reps": 6}, {"lift": "lat_pulldown", "sets": 3, "reps": 10}, {"lift": "dips", "sets": 2, "reps": 8}], "recent_lift_history": {"bench": [{"date": "2026-01-22", "weight_lb": 120.0, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}, {"date": "2026-01-26", "weight_lb": 120.0, "reps": 6, "top_rpe": 8.1, "outcome": "success", "variation": "standard"}, {"date": "2026-01-28", "weight_lb": 117.5, "reps": 6, "top_rpe": 9.1, "outcome": "success", "variation": "standard"}], "ohp": [{"date": "2026-01-12", "weight_lb": 70.0, "reps": 6, "top_rpe": 7.9, "outcome": "success", "variation": "standard"}, {"date": "2026-01-18", "weight_lb": 70.0, "reps": 6, "top_rpe": 7.8, "outcome": "success", "variation": "standard"}, {"date": "2026-01-24", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}]}, "lift_state": {"bench": {"exerciseId": "bench", "lastWorkingWeight": {"value": 117.5, "unit": "lb"}, "rollingE1RM": 141.9, "failureCount": 0, "highRpeStreak": 1, "lastDeloadDate": null, "trend": "stable", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}, "ohp": {"exerciseId": "ohp", "lastWorkingWeight": {"value": 70.0, "unit": "lb"}, "rollingE1RM": 84.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}}, "days_since_last_session": 2, "days_since_lift_exposure": {"bench": 2, "ohp": 6}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "gym": "B"}, "config_overrides": {"progression_policy": "double_progression", "deload_config": {"intensityReduction": 0.08, "volumeReduction": 1, "failuresBeforeDeload": 2}}}, "expected_output": {"session_prescription_for_today": [{"lift": "ohp", "prescribed_weight_lb": 70.0, "sets": 4, "target_reps": 6, "target_rpe": 8.0, "decision": "hold", "reason_code": "double_progression_hold_until_clear_surplus", "adjustment_kind": "none", "acceptable_range_lb": [67.5, 72.5]}, {"lift": "lat_pulldown", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}, {"lift": "dips", "prescribed_weight_lb": null, "sets": 2, "target_reps": 8, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected": "hold"}, {"field": "session_prescription_for_today[0].prescribed_weight_lb", "expected_range": [67.5, 72.5]}]}
{"test_id": "microload-P3-wk04-x2-gymA", "test_category": "progression", "description": "P3: microloading press focus, alternating gyms (A=1.25lb, B=2.5lb). Tests rounding and cautious increases.", "input": {"user_profile": {"sex": "female", "age": 25, "height_cm": 160, "body_weight_lb": 128.0, "experience_level": "intermediate", "program": "upper_lower_4x", "goal": "strength_hypertrophy"}, "equipment": ["barbell", "dumbbell"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 1.25}, "today_metrics": {"body_weight_lb": 127.84152031911289, "sleep_hours": 7.2, "hrv_ms": 55, "resting_hr_bpm": 61, "soreness_1_to_10": 4, "stress_1_to_10": 4, "steps": 8500, "calories_est": 2400}, "today_session_template": [{"lift": "bench", "sets": 4, "reps": 6}, {"lift": "row", "sets": 3, "reps": 10}, {"lift": "incline_db", "sets": 3, "reps": 10}], "recent_lift_history": {"bench": [{"date": "2026-01-22", "weight_lb": 120.0, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}, {"date": "2026-01-26", "weight_lb": 120.0, "reps": 6, "top_rpe": 8.1, "outcome": "success", "variation": "standard"}, {"date": "2026-01-28", "weight_lb": 117.5, "reps": 6, "top_rpe": 9.1, "outcome": "success", "variation": "standard"}], "ohp": [{"date": "2026-01-18", "weight_lb": 70.0, "reps": 6, "top_rpe": 7.8, "outcome": "success", "variation": "standard"}, {"date": "2026-01-24", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}, {"date": "2026-01-30", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.3, "outcome": "success", "variation": "standard"}]}, "lift_state": {"bench": {"exerciseId": "bench", "lastWorkingWeight": {"value": 117.5, "unit": "lb"}, "rollingE1RM": 141.9, "failureCount": 0, "highRpeStreak": 1, "lastDeloadDate": null, "trend": "stable", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}, "ohp": {"exerciseId": "ohp", "lastWorkingWeight": {"value": 70.0, "unit": "lb"}, "rollingE1RM": 84.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}}, "days_since_last_session": 2, "days_since_lift_exposure": {"bench": 4, "ohp": 2}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "gym": "A"}, "config_overrides": {"progression_policy": "double_progression", "deload_config": {"intensityReduction": 0.08, "volumeReduction": 1, "failuresBeforeDeload": 2}}}, "expected_output": {"session_prescription_for_today": [{"lift": "bench", "prescribed_weight_lb": 117.5, "sets": 4, "target_reps": 6, "target_rpe": 8.0, "decision": "hold", "reason_code": "double_progression_hold_until_clear_surplus", "adjustment_kind": "none", "acceptable_range_lb": [115.0, 120.0]}, {"lift": "row", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}, {"lift": "incline_db", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected": "hold"}, {"field": "session_prescription_for_today[0].prescribed_weight_lb", "expected_range": [115.0, 120.0]}]}
{"test_id": "microload-P3-wk05-x0-gymB", "test_category": "progression", "description": "P3: microloading press focus, alternating gyms (A=1.25lb, B=2.5lb). Tests rounding and cautious increases.", "input": {"user_profile": {"sex": "female", "age": 25, "height_cm": 160, "body_weight_lb": 128.0, "experience_level": "intermediate", "program": "upper_lower_4x", "goal": "strength_hypertrophy"}, "equipment": ["barbell", "dumbbell"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 2.5}, "today_metrics": {"body_weight_lb": 127.49583906728547, "sleep_hours": 7.2, "hrv_ms": 55, "resting_hr_bpm": 61, "soreness_1_to_10": 4, "stress_1_to_10": 4, "steps": 8500, "calories_est": 2400}, "today_session_template": [{"lift": "bench", "sets": 4, "reps": 6}, {"lift": "row", "sets": 3, "reps": 10}, {"lift": "incline_db", "sets": 3, "reps": 10}], "recent_lift_history": {"bench": [{"date": "2026-01-26", "weight_lb": 120.0, "reps": 6, "top_rpe": 8.1, "outcome": "success", "variation": "standard"}, {"date": "2026-01-28", "weight_lb": 117.5, "reps": 6, "top_rpe": 9.1, "outcome": "success", "variation": "standard"}, {"date": "2026-02-01", "weight_lb": 117.5, "reps": 6, "top_rpe": 7.9, "outcome": "success", "variation": "standard"}], "ohp": [{"date": "2026-01-18", "weight_lb": 70.0, "reps": 6, "top_rpe": 7.8, "outcome": "success", "variation": "standard"}, {"date": "2026-01-24", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}, {"date": "2026-01-30", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.3, "outcome": "success", "variation": "standard"}]}, "lift_state": {"bench": {"exerciseId": "bench", "lastWorkingWeight": {"value": 117.5, "unit": "lb"}, "rollingE1RM": 141.0, "failureCount": 0, "highRpeStreak": 1, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}, "ohp": {"exerciseId": "ohp", "lastWorkingWeight": {"value": 70.0, "unit": "lb"}, "rollingE1RM": 84.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}}, "days_since_last_session": 2, "days_since_lift_exposure": {"bench": 2, "ohp": 4}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "gym": "B"}, "config_overrides": {"progression_policy": "double_progression", "deload_config": {"intensityReduction": 0.08, "volumeReduction": 1, "failuresBeforeDeload": 2}}}, "expected_output": {"session_prescription_for_today": [{"lift": "bench", "prescribed_weight_lb": 117.5, "sets": 4, "target_reps": 6, "target_rpe": 8.0, "decision": "hold", "reason_code": "double_progression_hold_until_clear_surplus", "adjustment_kind": "none", "acceptable_range_lb": [115.0, 120.0]}, {"lift": "row", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}, {"lift": "incline_db", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected": "hold"}, {"field": "session_prescription_for_today[0].prescribed_weight_lb", "expected_range": [115.0, 120.0]}]}
{"test_id": "microload-P3-wk05-x1-gymA", "test_category": "progression", "description": "P3: microloading press focus, alternating gyms (A=1.25lb, B=2.5lb). Tests rounding and cautious increases.", "input": {"user_profile": {"sex": "female", "age": 25, "height_cm": 160, "body_weight_lb": 128.0, "experience_level": "intermediate", "program": "upper_lower_4x", "goal": "strength_hypertrophy"}, "equipment": ["barbell", "dumbbell"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 1.25}, "today_metrics": {"body_weight_lb": 128.0063931701152, "sleep_hours": 7.2, "hrv_ms": 55, "resting_hr_bpm": 61, "soreness_1_to_10": 4, "stress_1_to_10": 4, "steps": 8500, "calories_est": 2400}, "today_session_template": [{"lift": "ohp", "sets": 4, "reps": 6}, {"lift": "lat_pulldown", "sets": 3, "reps": 10}, {"lift": "dips", "sets": 2, "reps": 8}], "recent_lift_history": {"bench": [{"date": "2026-01-28", "weight_lb": 117.5, "reps": 6, "top_rpe": 9.1, "outcome": "success", "variation": "standard"}, {"date": "2026-02-01", "weight_lb": 117.5, "reps": 6, "top_rpe": 7.9, "outcome": "success", "variation": "standard"}, {"date": "2026-02-03", "weight_lb": 117.5, "reps": 6, "top_rpe": 8.3, "outcome": "success", "variation": "standard"}], "ohp": [{"date": "2026-01-18", "weight_lb": 70.0, "reps": 6, "top_rpe": 7.8, "outcome": "success", "variation": "standard"}, {"date": "2026-01-24", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}, {"date": "2026-01-30", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.3, "outcome": "success", "variation": "standard"}]}, "lift_state": {"bench": {"exerciseId": "bench", "lastWorkingWeight": {"value": 117.5, "unit": "lb"}, "rollingE1RM": 141.0, "failureCount": 0, "highRpeStreak": 1, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}, "ohp": {"exerciseId": "ohp", "lastWorkingWeight": {"value": 70.0, "unit": "lb"}, "rollingE1RM": 84.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}}, "days_since_last_session": 2, "days_since_lift_exposure": {"bench": 2, "ohp": 6}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "gym": "A"}, "config_overrides": {"progression_policy": "double_progression", "deload_config": {"intensityReduction": 0.08, "volumeReduction": 1, "failuresBeforeDeload": 2}}}, "expected_output": {"session_prescription_for_today": [{"lift": "ohp", "prescribed_weight_lb": 70.0, "sets": 4, "target_reps": 6, "target_rpe": 8.0, "decision": "hold", "reason_code": "double_progression_hold_until_clear_surplus", "adjustment_kind": "none", "acceptable_range_lb": [68.75, 71.25]}, {"lift": "lat_pulldown", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}, {"lift": "dips", "prescribed_weight_lb": null, "sets": 2, "target_reps": 8, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected": "hold"}, {"field": "session_prescription_for_today[0].prescribed_weight_lb", "expected_range": [68.75, 71.25]}]}
{"test_id": "microload-P3-wk05-x2-gymB", "test_category": "progression", "description": "P3: microloading press focus, alternating gyms (A=1.25lb, B=2.5lb). Tests rounding and cautious increases.", "input": {"user_profile": {"sex": "female", "age": 25, "height_cm": 160, "body_weight_lb": 128.0, "experience_level": "intermediate", "program": "upper_lower_4x", "goal": "strength_hypertrophy"}, "equipment": ["barbell", "dumbbell"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 2.5}, "today_metrics": {"body_weight_lb": 128.553483458795, "sleep_hours": 7.2, "hrv_ms": 55, "resting_hr_bpm": 61, "soreness_1_to_10": 4, "stress_1_to_10": 4, "steps": 8500, "calories_est": 2400}, "today_session_template": [{"lift": "bench", "sets": 4, "reps": 6}, {"lift": "row", "sets": 3, "reps": 10}, {"lift": "incline_db", "sets": 3, "reps": 10}], "recent_lift_history": {"bench": [{"date": "2026-01-28", "weight_lb": 117.5, "reps": 6, "top_rpe": 9.1, "outcome": "success", "variation": "standard"}, {"date": "2026-02-01", "weight_lb": 117.5, "reps": 6, "top_rpe": 7.9, "outcome": "success", "variation": "standard"}, {"date": "2026-02-03", "weight_lb": 117.5, "reps": 6, "top_rpe": 8.3, "outcome": "success", "variation": "standard"}], "ohp": [{"date": "2026-01-24", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}, {"date": "2026-01-30", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.3, "outcome": "success", "variation": "standard"}, {"date": "2026-02-05", "weight_lb": 70.0, "reps": 6, "top_rpe": 7.8, "outcome": "success", "variation": "standard"}]}, "lift_state": {"bench": {"exerciseId": "bench", "lastWorkingWeight": {"value": 117.5, "unit": "lb"}, "rollingE1RM": 141.0, "failureCount": 0, "highRpeStreak": 1, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}, "ohp": {"exerciseId": "ohp", "lastWorkingWeight": {"value": 70.0, "unit": "lb"}, "rollingE1RM": 84.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}}, "days_since_last_session": 2, "days_since_lift_exposure": {"bench": 4, "ohp": 2}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "gym": "B"}, "config_overrides": {"progression_policy": "double_progression", "deload_config": {"intensityReduction": 0.08, "volumeReduction": 1, "failuresBeforeDeload": 2}}}, "expected_output": {"session_prescription_for_today": [{"lift": "bench", "prescribed_weight_lb": 117.5, "sets": 4, "target_reps": 6, "target_rpe": 8.0, "decision": "hold", "reason_code": "double_progression_hold_until_clear_surplus", "adjustment_kind": "none", "acceptable_range_lb": [115.0, 120.0]}, {"lift": "row", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}, {"lift": "incline_db", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected": "hold"}, {"field": "session_prescription_for_today[0].prescribed_weight_lb", "expected_range": [115.0, 120.0]}]}
{"test_id": "microload-P3-wk06-x0-gymA", "test_category": "progression", "description": "P3: microloading press focus, alternating gyms (A=1.25lb, B=2.5lb). Tests rounding and cautious increases.", "input": {"user_profile": {"sex": "female", "age": 25, "height_cm": 160, "body_weight_lb": 128.0, "experience_level": "intermediate", "program": "upper_lower_4x", "goal": "strength_hypertrophy"}, "equipment": ["barbell", "dumbbell"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 1.25}, "today_metrics": {"body_weight_lb": 128.18957781533678, "sleep_hours": 7.2, "hrv_ms": 55, "resting_hr_bpm": 61, "soreness_1_to_10": 4, "stress_1_to_10": 4, "steps": 8500, "calories_est": 2400}, "today_session_template": [{"lift": "bench", "sets": 4, "reps": 6}, {"lift": "row", "sets": 3, "reps": 10}, {"lift": "incline_db", "sets": 3, "reps": 10}], "recent_lift_history": {"bench": [{"date": "2026-02-01", "weight_lb": 117.5, "reps": 6, "top_rpe": 7.9, "outcome": "success", "variation": "standard"}, {"date": "2026-02-03", "weight_lb": 117.5, "reps": 6, "top_rpe": 8.3, "outcome": "success", "variation": "standard"}, {"date": "2026-02-07", "weight_lb": 117.5, "reps": 6, "top_rpe": 8.3, "outcome": "success", "variation": "standard"}], "ohp": [{"date": "2026-01-24", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}, {"date": "2026-01-30", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.3, "outcome": "success", "variation": "standard"}, {"date": "2026-02-05", "weight_lb": 70.0, "reps": 6, "top_rpe": 7.8, "outcome": "success", "variation": "standard"}]}, "lift_state": {"bench": {"exerciseId": "bench", "lastWorkingWeight": {"value": 117.5, "unit": "lb"}, "rollingE1RM": 141.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}, "ohp": {"exerciseId": "ohp", "lastWorkingWeight": {"value": 70.0, "unit": "lb"}, "rollingE1RM": 84.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}}, "days_since_last_session": 2, "days_since_lift_exposure": {"bench": 2, "ohp": 4}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "gym": "A"}, "config_overrides": {"progression_policy": "double_progression", "deload_config": {"intensityReduction": 0.08, "volumeReduction": 1, "failuresBeforeDeload": 2}}}, "expected_output": {"session_prescription_for_today": [{"lift": "bench", "prescribed_weight_lb": 117.5, "sets": 4, "target_reps": 6, "target_rpe": 8.0, "decision": "hold", "reason_code": "double_progression_hold_until_clear_surplus", "adjustment_kind": "none", "acceptable_range_lb": [115.0, 120.0]}, {"lift": "row", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}, {"lift": "incline_db", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected": "hold"}, {"field": "session_prescription_for_today[0].prescribed_weight_lb", "expected_range": [115.0, 120.0]}]}
{"test_id": "microload-P3-wk06-x1-gymB", "test_category": "progression", "description": "P3: microloading press focus, alternating gyms (A=1.25lb, B=2.5lb). Tests rounding and cautious increases.", "input": {"user_profile": {"sex": "female", "age": 25, "height_cm": 160, "body_weight_lb": 128.0, "experience_level": "intermediate", "program": "upper_lower_4x", "goal": "strength_hypertrophy"}, "equipment": ["barbell", "dumbbell"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 2.5}, "today_metrics": {"body_weight_lb": 127.66381823032303, "sleep_hours": 7.2, "hrv_ms": 55, "resting_hr_bpm": 61, "soreness_1_to_10": 4, "stress_1_to_10": 4, "steps": 8500, "calories_est": 2400}, "today_session_template": [{"lift": "ohp", "sets": 4, "reps": 6}, {"lift": "lat_pulldown", "sets": 3, "reps": 10}, {"lift": "dips", "sets": 2, "reps": 8}], "recent_lift_history": {"bench": [{"date": "2026-02-03", "weight_lb": 117.5, "reps": 6, "top_rpe": 8.3, "outcome": "success", "variation": "standard"}, {"date": "2026-02-07", "weight_lb": 117.5, "reps": 6, "top_rpe": 8.3, "outcome": "success", "variation": "standard"}, {"date": "2026-02-09", "weight_lb": 117.5, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}], "ohp": [{"date": "2026-01-24", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}, {"date": "2026-01-30", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.3, "outcome": "success", "variation": "standard"}, {"date": "2026-02-05", "weight_lb": 70.0, "reps": 6, "top_rpe": 7.8, "outcome": "success", "variation": "standard"}]}, "lift_state": {"bench": {"exerciseId": "bench", "lastWorkingWeight": {"value": 117.5, "unit": "lb"}, "rollingE1RM": 141.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}, "ohp": {"exerciseId": "ohp", "lastWorkingWeight": {"value": 70.0, "unit": "lb"}, "rollingE1RM": 84.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}}, "days_since_last_session": 2, "days_since_lift_exposure": {"bench": 2, "ohp": 6}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "gym": "B"}, "config_overrides": {"progression_policy": "double_progression", "deload_config": {"intensityReduction": 0.08, "volumeReduction": 1, "failuresBeforeDeload": 2}}}, "expected_output": {"session_prescription_for_today": [{"lift": "ohp", "prescribed_weight_lb": 70.0, "sets": 4, "target_reps": 6, "target_rpe": 8.0, "decision": "hold", "reason_code": "double_progression_hold_until_clear_surplus", "adjustment_kind": "none", "acceptable_range_lb": [67.5, 72.5]}, {"lift": "lat_pulldown", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}, {"lift": "dips", "prescribed_weight_lb": null, "sets": 2, "target_reps": 8, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected": "hold"}, {"field": "session_prescription_for_today[0].prescribed_weight_lb", "expected_range": [67.5, 72.5]}]}
{"test_id": "microload-P3-wk06-x2-gymA", "test_category": "progression", "description": "P3: microloading press focus, alternating gyms (A=1.25lb, B=2.5lb). Tests rounding and cautious increases.", "input": {"user_profile": {"sex": "female", "age": 25, "height_cm": 160, "body_weight_lb": 128.0, "experience_level": "intermediate", "program": "upper_lower_4x", "goal": "strength_hypertrophy"}, "equipment": ["barbell", "dumbbell"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 1.25}, "today_metrics": {"body_weight_lb": 128.2354661690226, "sleep_hours": 7.2, "hrv_ms": 55, "resting_hr_bpm": 61, "soreness_1_to_10": 4, "stress_1_to_10": 4, "steps": 8500, "calories_est": 2400}, "today_session_template": [{"lift": "bench", "sets": 4, "reps": 6}, {"lift": "row", "sets": 3, "reps": 10}, {"lift": "incline_db", "sets": 3, "reps": 10}], "recent_lift_history": {"bench": [{"date": "2026-02-03", "weight_lb": 117.5, "reps": 6, "top_rpe": 8.3, "outcome": "success", "variation": "standard"}, {"date": "2026-02-07", "weight_lb": 117.5, "reps": 6, "top_rpe": 8.3, "outcome": "success", "variation": "standard"}, {"date": "2026-02-09", "weight_lb": 117.5, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}], "ohp": [{"date": "2026-01-30", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.3, "outcome": "success", "variation": "standard"}, {"date": "2026-02-05", "weight_lb": 70.0, "reps": 6, "top_rpe": 7.8, "outcome": "success", "variation": "standard"}, {"date": "2026-02-11", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.4, "outcome": "success", "variation": "standard"}]}, "lift_state": {"bench": {"exerciseId": "bench", "lastWorkingWeight": {"value": 117.5, "unit": "lb"}, "rollingE1RM": 141.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}, "ohp": {"exerciseId": "ohp", "lastWorkingWeight": {"value": 70.0, "unit": "lb"}, "rollingE1RM": 84.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}}, "days_since_last_session": 2, "days_since_lift_exposure": {"bench": 4, "ohp": 2}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "gym": "A"}, "config_overrides": {"progression_policy": "double_progression", "deload_config": {"intensityReduction": 0.08, "volumeReduction": 1, "failuresBeforeDeload": 2}}}, "expected_output": {"session_prescription_for_today": [{"lift": "bench", "prescribed_weight_lb": 117.5, "sets": 4, "target_reps": 6, "target_rpe": 8.0, "decision": "hold", "reason_code": "double_progression_hold_until_clear_surplus", "adjustment_kind": "none", "acceptable_range_lb": [115.0, 120.0]}, {"lift": "row", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}, {"lift": "incline_db", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected": "hold"}, {"field": "session_prescription_for_today[0].prescribed_weight_lb", "expected_range": [115.0, 120.0]}]}
{"test_id": "microload-P3-wk07-x0-gymB", "test_category": "progression", "description": "P3: microloading press focus, alternating gyms (A=1.25lb, B=2.5lb). Tests rounding and cautious increases.", "input": {"user_profile": {"sex": "female", "age": 25, "height_cm": 160, "body_weight_lb": 128.0, "experience_level": "intermediate", "program": "upper_lower_4x", "goal": "strength_hypertrophy"}, "equipment": ["barbell", "dumbbell"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 2.5}, "today_metrics": {"body_weight_lb": 128.48474936178084, "sleep_hours": 5.0, "hrv_ms": 36, "resting_hr_bpm": 72, "soreness_1_to_10": 8, "stress_1_to_10": 8, "steps": 5500, "calories_est": 2100}, "today_session_template": [{"lift": "bench", "sets": 4, "reps": 6}, {"lift": "row", "sets": 3, "reps": 10}, {"lift": "incline_db", "sets": 3, "reps": 10}], "recent_lift_history": {"bench": [{"date": "2026-02-07", "weight_lb": 117.5, "reps": 6, "top_rpe": 8.3, "outcome": "success", "variation": "standard"}, {"date": "2026-02-09", "weight_lb": 117.5, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}, {"date": "2026-02-13", "weight_lb": 117.5, "reps": 6, "top_rpe": 7.9, "outcome": "success", "variation": "standard"}], "ohp": [{"date": "2026-01-30", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.3, "outcome": "success", "variation": "standard"}, {"date": "2026-02-05", "weight_lb": 70.0, "reps": 6, "top_rpe": 7.8, "outcome": "success", "variation": "standard"}, {"date": "2026-02-11", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.4, "outcome": "success", "variation": "standard"}]}, "lift_state": {"bench": {"exerciseId": "bench", "lastWorkingWeight": {"value": 117.5, "unit": "lb"}, "rollingE1RM": 141.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}, "ohp": {"exerciseId": "ohp", "lastWorkingWeight": {"value": 70.0, "unit": "lb"}, "rollingE1RM": 84.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}}, "days_since_last_session": 2, "days_since_lift_exposure": {"bench": 2, "ohp": 4}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "gym": "B"}, "config_overrides": {"progression_policy": "double_progression", "deload_config": {"intensityReduction": 0.08, "volumeReduction": 1, "failuresBeforeDeload": 2}}}, "expected_output": {"session_prescription_for_today": [{"lift": "bench", "prescribed_weight_lb": 115.0, "sets": 4, "target_reps": 6, "target_rpe": 8.0, "decision": "decrease_small", "reason_code": "readiness_cut_small_press", "adjustment_kind": "readinessCut", "acceptable_range_lb": [112.5, 117.5]}, {"lift": "row", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}, {"lift": "incline_db", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected": "decrease_small"}, {"field": "session_prescription_for_today[0].prescribed_weight_lb", "expected_range": [112.5, 117.5]}]}
{"test_id": "microload-P3-wk07-x1-gymA", "test_category": "progression", "description": "P3: microloading press focus, alternating gyms (A=1.25lb, B=2.5lb). Tests rounding and cautious increases.", "input": {"user_profile": {"sex": "female", "age": 25, "height_cm": 160, "body_weight_lb": 128.0, "experience_level": "intermediate", "program": "upper_lower_4x", "goal": "strength_hypertrophy"}, "equipment": ["barbell", "dumbbell"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 1.25}, "today_metrics": {"body_weight_lb": 128.19464005855957, "sleep_hours": 7.2, "hrv_ms": 55, "resting_hr_bpm": 61, "soreness_1_to_10": 4, "stress_1_to_10": 4, "steps": 8500, "calories_est": 2400}, "today_session_template": [{"lift": "ohp", "sets": 4, "reps": 6}, {"lift": "lat_pulldown", "sets": 3, "reps": 10}, {"lift": "dips", "sets": 2, "reps": 8}], "recent_lift_history": {"bench": [{"date": "2026-02-09", "weight_lb": 117.5, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}, {"date": "2026-02-13", "weight_lb": 117.5, "reps": 6, "top_rpe": 7.9, "outcome": "success", "variation": "standard"}, {"date": "2026-02-15", "weight_lb": 115.0, "reps": 6, "top_rpe": 9.1, "outcome": "success", "variation": "standard"}], "ohp": [{"date": "2026-01-30", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.3, "outcome": "success", "variation": "standard"}, {"date": "2026-02-05", "weight_lb": 70.0, "reps": 6, "top_rpe": 7.8, "outcome": "success", "variation": "standard"}, {"date": "2026-02-11", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.4, "outcome": "success", "variation": "standard"}]}, "lift_state": {"bench": {"exerciseId": "bench", "lastWorkingWeight": {"value": 115.0, "unit": "lb"}, "rollingE1RM": 138.9, "failureCount": 0, "highRpeStreak": 1, "lastDeloadDate": null, "trend": "stable", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}, "ohp": {"exerciseId": "ohp", "lastWorkingWeight": {"value": 70.0, "unit": "lb"}, "rollingE1RM": 84.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}}, "days_since_last_session": 2, "days_since_lift_exposure": {"bench": 2, "ohp": 6}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "gym": "A"}, "config_overrides": {"progression_policy": "double_progression", "deload_config": {"intensityReduction": 0.08, "volumeReduction": 1, "failuresBeforeDeload": 2}}}, "expected_output": {"session_prescription_for_today": [{"lift": "ohp", "prescribed_weight_lb": 70.0, "sets": 4, "target_reps": 6, "target_rpe": 8.0, "decision": "hold", "reason_code": "double_progression_hold_until_clear_surplus", "adjustment_kind": "none", "acceptable_range_lb": [68.75, 71.25]}, {"lift": "lat_pulldown", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}, {"lift": "dips", "prescribed_weight_lb": null, "sets": 2, "target_reps": 8, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected": "hold"}, {"field": "session_prescription_for_today[0].prescribed_weight_lb", "expected_range": [68.75, 71.25]}]}
{"test_id": "microload-P3-wk07-x2-gymB", "test_category": "progression", "description": "P3: microloading press focus, alternating gyms (A=1.25lb, B=2.5lb). Tests rounding and cautious increases.", "input": {"user_profile": {"sex": "female", "age": 25, "height_cm": 160, "body_weight_lb": 128.0, "experience_level": "intermediate", "program": "upper_lower_4x", "goal": "strength_hypertrophy"}, "equipment": ["barbell", "dumbbell"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 2.5}, "today_metrics": {"body_weight_lb": 127.60484720132486, "sleep_hours": 7.2, "hrv_ms": 55, "resting_hr_bpm": 61, "soreness_1_to_10": 4, "stress_1_to_10": 4, "steps": 8500, "calories_est": 2400}, "today_session_template": [{"lift": "bench", "sets": 4, "reps": 6}, {"lift": "row", "sets": 3, "reps": 10}, {"lift": "incline_db", "sets": 3, "reps": 10}], "recent_lift_history": {"bench": [{"date": "2026-02-09", "weight_lb": 117.5, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}, {"date": "2026-02-13", "weight_lb": 117.5, "reps": 6, "top_rpe": 7.9, "outcome": "success", "variation": "standard"}, {"date": "2026-02-15", "weight_lb": 115.0, "reps": 6, "top_rpe": 9.1, "outcome": "success", "variation": "standard"}], "ohp": [{"date": "2026-02-05", "weight_lb": 70.0, "reps": 6, "top_rpe": 7.8, "outcome": "success", "variation": "standard"}, {"date": "2026-02-11", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.4, "outcome": "success", "variation": "standard"}, {"date": "2026-02-17", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}]}, "lift_state": {"bench": {"exerciseId": "bench", "lastWorkingWeight": {"value": 115.0, "unit": "lb"}, "rollingE1RM": 138.9, "failureCount": 0, "highRpeStreak": 1, "lastDeloadDate": null, "trend": "stable", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}, "ohp": {"exerciseId": "ohp", "lastWorkingWeight": {"value": 70.0, "unit": "lb"}, "rollingE1RM": 84.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}}, "days_since_last_session": 2, "days_since_lift_exposure": {"bench": 4, "ohp": 2}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "gym": "B"}, "config_overrides": {"progression_policy": "double_progression", "deload_config": {"intensityReduction": 0.08, "volumeReduction": 1, "failuresBeforeDeload": 2}}}, "expected_output": {"session_prescription_for_today": [{"lift": "bench", "prescribed_weight_lb": 115.0, "sets": 4, "target_reps": 6, "target_rpe": 8.0, "decision": "hold", "reason_code": "double_progression_hold_until_clear_surplus", "adjustment_kind": "none", "acceptable_range_lb": [112.5, 117.5]}, {"lift": "row", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}, {"lift": "incline_db", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected": "hold"}, {"field": "session_prescription_for_today[0].prescribed_weight_lb", "expected_range": [112.5, 117.5]}]}
{"test_id": "microload-P3-wk08-x0-gymA", "test_category": "progression", "description": "P3: microloading press focus, alternating gyms (A=1.25lb, B=2.5lb). Tests rounding and cautious increases.", "input": {"user_profile": {"sex": "female", "age": 25, "height_cm": 160, "body_weight_lb": 128.0, "experience_level": "intermediate", "program": "upper_lower_4x", "goal": "strength_hypertrophy"}, "equipment": ["barbell", "dumbbell"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 1.25}, "today_metrics": {"body_weight_lb": 127.47924084254703, "sleep_hours": 7.2, "hrv_ms": 55, "resting_hr_bpm": 61, "soreness_1_to_10": 4, "stress_1_to_10": 4, "steps": 8500, "calories_est": 2400}, "today_session_template": [{"lift": "bench", "sets": 4, "reps": 6}, {"lift": "row", "sets": 3, "reps": 10}, {"lift": "incline_db", "sets": 3, "reps": 10}], "recent_lift_history": {"bench": [{"date": "2026-02-13", "weight_lb": 117.5, "reps": 6, "top_rpe": 7.9, "outcome": "success", "variation": "standard"}, {"date": "2026-02-15", "weight_lb": 115.0, "reps": 6, "top_rpe": 9.1, "outcome": "success", "variation": "standard"}, {"date": "2026-02-19", "weight_lb": 115.0, "reps": 6, "top_rpe": 8.5, "outcome": "success", "variation": "standard"}], "ohp": [{"date": "2026-02-05", "weight_lb": 70.0, "reps": 6, "top_rpe": 7.8, "outcome": "success", "variation": "standard"}, {"date": "2026-02-11", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.4, "outcome": "success", "variation": "standard"}, {"date": "2026-02-17", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}]}, "lift_state": {"bench": {"exerciseId": "bench", "lastWorkingWeight": {"value": 115.0, "unit": "lb"}, "rollingE1RM": 138.0, "failureCount": 0, "highRpeStreak": 1, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}, "ohp": {"exerciseId": "ohp", "lastWorkingWeight": {"value": 70.0, "unit": "lb"}, "rollingE1RM": 84.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}}, "days_since_last_session": 2, "days_since_lift_exposure": {"bench": 2, "ohp": 4}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "gym": "A"}, "config_overrides": {"progression_policy": "double_progression", "deload_config": {"intensityReduction": 0.08, "volumeReduction": 1, "failuresBeforeDeload": 2}}}, "expected_output": {"session_prescription_for_today": [{"lift": "bench", "prescribed_weight_lb": 115.0, "sets": 4, "target_reps": 6, "target_rpe": 8.0, "decision": "hold", "reason_code": "double_progression_hold_until_clear_surplus", "adjustment_kind": "none", "acceptable_range_lb": [112.5, 117.5]}, {"lift": "row", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}, {"lift": "incline_db", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected": "hold"}, {"field": "session_prescription_for_today[0].prescribed_weight_lb", "expected_range": [112.5, 117.5]}]}
{"test_id": "microload-P3-wk08-x1-gymB", "test_category": "progression", "description": "P3: microloading press focus, alternating gyms (A=1.25lb, B=2.5lb). Tests rounding and cautious increases.", "input": {"user_profile": {"sex": "female", "age": 25, "height_cm": 160, "body_weight_lb": 128.0, "experience_level": "intermediate", "program": "upper_lower_4x", "goal": "strength_hypertrophy"}, "equipment": ["barbell", "dumbbell"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 2.5}, "today_metrics": {"body_weight_lb": 127.64670276265014, "sleep_hours": 7.2, "hrv_ms": 55, "resting_hr_bpm": 61, "soreness_1_to_10": 4, "stress_1_to_10": 4, "steps": 8500, "calories_est": 2400}, "today_session_template": [{"lift": "ohp", "sets": 4, "reps": 6}, {"lift": "lat_pulldown", "sets": 3, "reps": 10}, {"lift": "dips", "sets": 2, "reps": 8}], "recent_lift_history": {"bench": [{"date": "2026-02-15", "weight_lb": 115.0, "reps": 6, "top_rpe": 9.1, "outcome": "success", "variation": "standard"}, {"date": "2026-02-19", "weight_lb": 115.0, "reps": 6, "top_rpe": 8.5, "outcome": "success", "variation": "standard"}, {"date": "2026-02-21", "weight_lb": 115.0, "reps": 6, "top_rpe": 7.9, "outcome": "success", "variation": "standard"}], "ohp": [{"date": "2026-02-05", "weight_lb": 70.0, "reps": 6, "top_rpe": 7.8, "outcome": "success", "variation": "standard"}, {"date": "2026-02-11", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.4, "outcome": "success", "variation": "standard"}, {"date": "2026-02-17", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}]}, "lift_state": {"bench": {"exerciseId": "bench", "lastWorkingWeight": {"value": 115.0, "unit": "lb"}, "rollingE1RM": 138.0, "failureCount": 0, "highRpeStreak": 1, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}, "ohp": {"exerciseId": "ohp", "lastWorkingWeight": {"value": 70.0, "unit": "lb"}, "rollingE1RM": 84.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}}, "days_since_last_session": 2, "days_since_lift_exposure": {"bench": 2, "ohp": 6}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "gym": "B"}, "config_overrides": {"progression_policy": "double_progression", "deload_config": {"intensityReduction": 0.08, "volumeReduction": 1, "failuresBeforeDeload": 2}}}, "expected_output": {"session_prescription_for_today": [{"lift": "ohp", "prescribed_weight_lb": 70.0, "sets": 4, "target_reps": 6, "target_rpe": 8.0, "decision": "hold", "reason_code": "double_progression_hold_until_clear_surplus", "adjustment_kind": "none", "acceptable_range_lb": [67.5, 72.5]}, {"lift": "lat_pulldown", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}, {"lift": "dips", "prescribed_weight_lb": null, "sets": 2, "target_reps": 8, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected": "hold"}, {"field": "session_prescription_for_today[0].prescribed_weight_lb", "expected_range": [67.5, 72.5]}]}
{"test_id": "microload-P3-wk08-x2-gymA", "test_category": "progression", "description": "P3: microloading press focus, alternating gyms (A=1.25lb, B=2.5lb). Tests rounding and cautious increases.", "input": {"user_profile": {"sex": "female", "age": 25, "height_cm": 160, "body_weight_lb": 128.0, "experience_level": "intermediate", "program": "upper_lower_4x", "goal": "strength_hypertrophy"}, "equipment": ["barbell", "dumbbell"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 1.25}, "today_metrics": {"body_weight_lb": 128.46295597344786, "sleep_hours": 7.2, "hrv_ms": 55, "resting_hr_bpm": 61, "soreness_1_to_10": 4, "stress_1_to_10": 4, "steps": 8500, "calories_est": 2400}, "today_session_template": [{"lift": "bench", "sets": 4, "reps": 6}, {"lift": "row", "sets": 3, "reps": 10}, {"lift": "incline_db", "sets": 3, "reps": 10}], "recent_lift_history": {"bench": [{"date": "2026-02-15", "weight_lb": 115.0, "reps": 6, "top_rpe": 9.1, "outcome": "success", "variation": "standard"}, {"date": "2026-02-19", "weight_lb": 115.0, "reps": 6, "top_rpe": 8.5, "outcome": "success", "variation": "standard"}, {"date": "2026-02-21", "weight_lb": 115.0, "reps": 6, "top_rpe": 7.9, "outcome": "success", "variation": "standard"}], "ohp": [{"date": "2026-02-11", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.4, "outcome": "success", "variation": "standard"}, {"date": "2026-02-17", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}, {"date": "2026-02-23", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.3, "outcome": "success", "variation": "standard"}]}, "lift_state": {"bench": {"exerciseId": "bench", "lastWorkingWeight": {"value": 115.0, "unit": "lb"}, "rollingE1RM": 138.0, "failureCount": 0, "highRpeStreak": 1, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}, "ohp": {"exerciseId": "ohp", "lastWorkingWeight": {"value": 70.0, "unit": "lb"}, "rollingE1RM": 84.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}}, "days_since_last_session": 2, "days_since_lift_exposure": {"bench": 4, "ohp": 2}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "gym": "A"}, "config_overrides": {"progression_policy": "double_progression", "deload_config": {"intensityReduction": 0.08, "volumeReduction": 1, "failuresBeforeDeload": 2}}}, "expected_output": {"session_prescription_for_today": [{"lift": "bench", "prescribed_weight_lb": 115.0, "sets": 4, "target_reps": 6, "target_rpe": 8.0, "decision": "hold", "reason_code": "double_progression_hold_until_clear_surplus", "adjustment_kind": "none", "acceptable_range_lb": [112.5, 117.5]}, {"lift": "row", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}, {"lift": "incline_db", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected": "hold"}, {"field": "session_prescription_for_today[0].prescribed_weight_lb", "expected_range": [112.5, 117.5]}]}
{"test_id": "microload-P3-wk09-x0-gymB", "test_category": "progression", "description": "P3: microloading press focus, alternating gyms (A=1.25lb, B=2.5lb). Tests rounding and cautious increases.", "input": {"user_profile": {"sex": "female", "age": 25, "height_cm": 160, "body_weight_lb": 128.0, "experience_level": "intermediate", "program": "upper_lower_4x", "goal": "strength_hypertrophy"}, "equipment": ["barbell", "dumbbell"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 2.5}, "today_metrics": {"body_weight_lb": 127.70016077969476, "sleep_hours": 7.2, "hrv_ms": 55, "resting_hr_bpm": 61, "soreness_1_to_10": 4, "stress_1_to_10": 4, "steps": 8500, "calories_est": 2400}, "today_session_template": [{"lift": "bench", "sets": 4, "reps": 6}, {"lift": "row", "sets": 3, "reps": 10}, {"lift": "incline_db", "sets": 3, "reps": 10}], "recent_lift_history": {"bench": [{"date": "2026-02-19", "weight_lb": 115.0, "reps": 6, "top_rpe": 8.5, "outcome": "success", "variation": "standard"}, {"date": "2026-02-21", "weight_lb": 115.0, "reps": 6, "top_rpe": 7.9, "outcome": "success", "variation": "standard"}, {"date": "2026-02-25", "weight_lb": 115.0, "reps": 6, "top_rpe": 7.9, "outcome": "success", "variation": "standard"}], "ohp": [{"date": "2026-02-11", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.4, "outcome": "success", "variation": "standard"}, {"date": "2026-02-17", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}, {"date": "2026-02-23", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.3, "outcome": "success", "variation": "standard"}]}, "lift_state": {"bench": {"exerciseId": "bench", "lastWorkingWeight": {"value": 115.0, "unit": "lb"}, "rollingE1RM": 138.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}, "ohp": {"exerciseId": "ohp", "lastWorkingWeight": {"value": 70.0, "unit": "lb"}, "rollingE1RM": 84.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}}, "days_since_last_session": 2, "days_since_lift_exposure": {"bench": 2, "ohp": 4}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "gym": "B"}, "config_overrides": {"progression_policy": "double_progression", "deload_config": {"intensityReduction": 0.08, "volumeReduction": 1, "failuresBeforeDeload": 2}}}, "expected_output": {"session_prescription_for_today": [{"lift": "bench", "prescribed_weight_lb": 115.0, "sets": 4, "target_reps": 6, "target_rpe": 8.0, "decision": "hold", "reason_code": "double_progression_hold_until_clear_surplus", "adjustment_kind": "none", "acceptable_range_lb": [112.5, 117.5]}, {"lift": "row", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}, {"lift": "incline_db", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected": "hold"}, {"field": "session_prescription_for_today[0].prescribed_weight_lb", "expected_range": [112.5, 117.5]}]}
{"test_id": "microload-P3-wk09-x1-gymA", "test_category": "progression", "description": "P3: microloading press focus, alternating gyms (A=1.25lb, B=2.5lb). Tests rounding and cautious increases.", "input": {"user_profile": {"sex": "female", "age": 25, "height_cm": 160, "body_weight_lb": 128.0, "experience_level": "intermediate", "program": "upper_lower_4x", "goal": "strength_hypertrophy"}, "equipment": ["barbell", "dumbbell"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 1.25}, "today_metrics": {"body_weight_lb": 128.46265072576222, "sleep_hours": 7.2, "hrv_ms": 55, "resting_hr_bpm": 61, "soreness_1_to_10": 4, "stress_1_to_10": 4, "steps": 8500, "calories_est": 2400}, "today_session_template": [{"lift": "ohp", "sets": 4, "reps": 6}, {"lift": "lat_pulldown", "sets": 3, "reps": 10}, {"lift": "dips", "sets": 2, "reps": 8}], "recent_lift_history": {"bench": [{"date": "2026-02-21", "weight_lb": 115.0, "reps": 6, "top_rpe": 7.9, "outcome": "success", "variation": "standard"}, {"date": "2026-02-25", "weight_lb": 115.0, "reps": 6, "top_rpe": 7.9, "outcome": "success", "variation": "standard"}, {"date": "2026-02-27", "weight_lb": 115.0, "reps": 6, "top_rpe": 8.6, "outcome": "success", "variation": "standard"}], "ohp": [{"date": "2026-02-11", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.4, "outcome": "success", "variation": "standard"}, {"date": "2026-02-17", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}, {"date": "2026-02-23", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.3, "outcome": "success", "variation": "standard"}]}, "lift_state": {"bench": {"exerciseId": "bench", "lastWorkingWeight": {"value": 115.0, "unit": "lb"}, "rollingE1RM": 138.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}, "ohp": {"exerciseId": "ohp", "lastWorkingWeight": {"value": 70.0, "unit": "lb"}, "rollingE1RM": 84.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}}, "days_since_last_session": 2, "days_since_lift_exposure": {"bench": 2, "ohp": 6}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "gym": "A"}, "config_overrides": {"progression_policy": "double_progression", "deload_config": {"intensityReduction": 0.08, "volumeReduction": 1, "failuresBeforeDeload": 2}}}, "expected_output": {"session_prescription_for_today": [{"lift": "ohp", "prescribed_weight_lb": 70.0, "sets": 4, "target_reps": 6, "target_rpe": 8.0, "decision": "hold", "reason_code": "double_progression_hold_until_clear_surplus", "adjustment_kind": "none", "acceptable_range_lb": [68.75, 71.25]}, {"lift": "lat_pulldown", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}, {"lift": "dips", "prescribed_weight_lb": null, "sets": 2, "target_reps": 8, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected": "hold"}, {"field": "session_prescription_for_today[0].prescribed_weight_lb", "expected_range": [68.75, 71.25]}]}
{"test_id": "microload-P3-wk09-x2-gymB", "test_category": "progression", "description": "P3: microloading press focus, alternating gyms (A=1.25lb, B=2.5lb). Tests rounding and cautious increases.", "input": {"user_profile": {"sex": "female", "age": 25, "height_cm": 160, "body_weight_lb": 128.0, "experience_level": "intermediate", "program": "upper_lower_4x", "goal": "strength_hypertrophy"}, "equipment": ["barbell", "dumbbell"], "equipment_config": {"units": "lb", "bar_weight_lb": 45, "load_step_lb": 2.5}, "today_metrics": {"body_weight_lb": 128.44914366580176, "sleep_hours": 7.2, "hrv_ms": 55, "resting_hr_bpm": 61, "soreness_1_to_10": 4, "stress_1_to_10": 4, "steps": 8500, "calories_est": 2400}, "today_session_template": [{"lift": "bench", "sets": 4, "reps": 6}, {"lift": "row", "sets": 3, "reps": 10}, {"lift": "incline_db", "sets": 3, "reps": 10}], "recent_lift_history": {"bench": [{"date": "2026-02-21", "weight_lb": 115.0, "reps": 6, "top_rpe": 7.9, "outcome": "success", "variation": "standard"}, {"date": "2026-02-25", "weight_lb": 115.0, "reps": 6, "top_rpe": 7.9, "outcome": "success", "variation": "standard"}, {"date": "2026-02-27", "weight_lb": 115.0, "reps": 6, "top_rpe": 8.6, "outcome": "success", "variation": "standard"}], "ohp": [{"date": "2026-02-17", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.0, "outcome": "success", "variation": "standard"}, {"date": "2026-02-23", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.3, "outcome": "success", "variation": "standard"}, {"date": "2026-03-01", "weight_lb": 70.0, "reps": 6, "top_rpe": 8.2, "outcome": "success", "variation": "standard"}]}, "lift_state": {"bench": {"exerciseId": "bench", "lastWorkingWeight": {"value": 115.0, "unit": "lb"}, "rollingE1RM": 138.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}, "ohp": {"exerciseId": "ohp", "lastWorkingWeight": {"value": 70.0, "unit": "lb"}, "rollingE1RM": 84.0, "failureCount": 0, "highRpeStreak": 0, "lastDeloadDate": null, "trend": "improving", "successStreak": 3, "successfulSessionsCount": 3, "recentReadinessScores": []}}, "days_since_last_session": 2, "days_since_lift_exposure": {"bench": 4, "ohp": 2}, "event_flags": {"missed_session": false, "injury_flags": {}, "planned_deload_week": false, "gym": "B"}, "config_overrides": {"progression_policy": "double_progression", "deload_config": {"intensityReduction": 0.08, "volumeReduction": 1, "failuresBeforeDeload": 2}}}, "expected_output": {"session_prescription_for_today": [{"lift": "bench", "prescribed_weight_lb": 115.0, "sets": 4, "target_reps": 6, "target_rpe": 8.0, "decision": "hold", "reason_code": "double_progression_hold_until_clear_surplus", "adjustment_kind": "none", "acceptable_range_lb": [112.5, 117.5]}, {"lift": "row", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}, {"lift": "incline_db", "prescribed_weight_lb": null, "sets": 3, "target_reps": 10, "target_rpe": 7.5, "decision": "hold", "reason_code": "accessory_not_scored", "adjustment_kind": "accessory"}]}, "assertions": [{"field": "session_prescription_for_today[0].decision", "expected": "hold"}, {"field": "session_prescription_for_today[0].prescribed_weight_lb", "expected_range": [112.5, 117.5]}]}
